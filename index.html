<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ø®Ø§Ø±Ù‚ | Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</title>
    
    <!-- Ø®Ø·ÙˆØ· Ø¹Ø±Ø¨ÙŠØ© -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;500;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- TensorFlow.js Ù„Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ù…Ø­Ù„ÙŠ -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.10.0/dist/tf.min.js"></script>
    
    <!-- Firebase (Ù„Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    
    <style>
        :root {
            --bg-dark: #0a0a1a;
            --bg-darker: #050510;
            --bg-card: #151530;
            --primary: #00f5ff;
            --primary-dark: #00b4d8;
            --accent: #ff006e;
            --accent-light: #ff4da6;
            --neon-blue: #00f5ff;
            --neon-purple: #9d4edd;
            --neon-green: #00ff9d;
            --neon-yellow: #ffd166;
            --text-main: #ffffff;
            --text-secondary: #b8b8d1;
            --text-dim: #8a8aa3;
            --gradient-ai: linear-gradient(135deg, #00f5ff 0%, #9d4edd 50%, #ff006e 100%);
            --gradient-dark: linear-gradient(180deg, #0a0a1a 0%, #050510 100%);
            --gradient-card: linear-gradient(145deg, #151530 0%, #101025 100%);
            --shadow-glow: 0 0 30px rgba(0, 245, 255, 0.3);
            --shadow-heavy: 0 10px 40px rgba(0, 0, 0, 0.5);
            --shadow-accent: 0 0 25px rgba(255, 0, 110, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Tajawal', sans-serif;
        }

        body {
            background: var(--gradient-dark);
            color: var(--text-main);
            min-height: 100vh;
            direction: rtl;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(0, 245, 255, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(157, 78, 221, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(255, 0, 110, 0.05) 0%, transparent 50%);
            z-index: -1;
        }

        .hidden {
            display: none !important;
        }

        /* Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
        #login-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
        }

        .login-container {
            width: 100%;
            max-width: 500px;
            background: var(--gradient-card);
            border-radius: 30px;
            padding: 50px 40px;
            border: 3px solid rgba(0, 245, 255, 0.15);
            box-shadow: var(--shadow-glow), var(--shadow-heavy);
            position: relative;
            z-index: 1;
            backdrop-filter: blur(10px);
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0.5deg); }
            50% { transform: translateY(-20px) rotate(-0.5deg); }
        }

        .login-container::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: var(--gradient-ai);
            border-radius: 33px;
            z-index: -1;
            opacity: 0.1;
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .login-logo {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }

        .login-logo i {
            font-size: 120px;
            background: var(--gradient-ai);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: pulse 3s infinite;
            filter: drop-shadow(0 0 20px rgba(0, 245, 255, 0.5));
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
        }

        .login-title {
            font-size: 48px;
            margin-bottom: 15px;
            background: var(--gradient-ai);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 900;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 3px;
            text-shadow: 0 5px 15px rgba(0, 245, 255, 0.3);
        }

        .login-subtitle {
            color: var(--text-secondary);
            text-align: center;
            margin-bottom: 40px;
            font-size: 16px;
            line-height: 1.6;
            max-width: 400px;
            margin: 0 auto 40px;
        }

        .form-group {
            margin-bottom: 30px;
            position: relative;
        }

        .form-input {
            width: 100%;
            padding: 22px 25px;
            background: rgba(10, 10, 25, 0.7);
            border: 2px solid rgba(0, 245, 255, 0.3);
            border-radius: 18px;
            color: white;
            font-size: 17px;
            transition: all 0.4s;
            backdrop-filter: blur(5px);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--neon-blue);
            background: rgba(10, 10, 25, 0.9);
            box-shadow: 0 0 25px rgba(0, 245, 255, 0.4);
            transform: translateY(-2px);
        }

        .form-label {
            position: absolute;
            right: 25px;
            top: 22px;
            color: var(--text-dim);
            transition: all 0.3s;
            pointer-events: none;
        }

        .form-input:focus + .form-label,
        .form-input:not(:placeholder-shown) + .form-label {
            top: -10px;
            right: 20px;
            font-size: 14px;
            color: var(--neon-blue);
            background: var(--bg-card);
            padding: 0 10px;
        }

        .btn {
            width: 100%;
            padding: 22px;
            border: none;
            border-radius: 18px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0%;
            height: 100%;
            background: rgba(255, 255, 255, 0.1);
            transition: width 0.4s;
            z-index: -1;
        }

        .btn:hover::before {
            width: 100%;
        }

        .btn-primary {
            background: var(--gradient-ai);
            color: white;
            box-shadow: 0 8px 25px rgba(0, 245, 255, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 245, 255, 0.6);
        }

        .btn-secondary {
            background: transparent;
            border: 2px solid var(--neon-blue);
            color: var(--neon-blue);
        }

        .btn-secondary:hover {
            background: rgba(0, 245, 255, 0.1);
        }

        .btn-success {
            background: var(--neon-green);
            color: #000;
        }

        .btn-danger {
            background: var(--accent);
            color: white;
        }

        .login-footer {
            text-align: center;
            margin-top: 40px;
            color: var(--text-dim);
            font-size: 14px;
        }

        /* Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        #app-screen {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            opacity: 0;
            animation: fadeIn 1s forwards;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        header {
            background: rgba(10, 10, 25, 0.95);
            backdrop-filter: blur(20px);
            padding: 20px 30px;
            border-bottom: 2px solid rgba(0, 245, 255, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.3);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }

        .ai-header {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .ai-logo {
            width: 60px;
            height: 60px;
            border-radius: 20px;
            background: var(--gradient-ai);
            display: flex;
            align-items: center;
            justify-content: center;
            animation: logoGlow 3s infinite;
        }

        @keyframes logoGlow {
            0%, 100% { box-shadow: 0 0 30px rgba(0, 245, 255, 0.5); }
            50% { box-shadow: 0 0 50px rgba(0, 245, 255, 0.8); }
        }

        .ai-logo i {
            font-size: 30px;
            color: white;
        }

        .ai-info h1 {
            font-size: 24px;
            background: var(--gradient-ai);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 800;
        }

        .ai-info p {
            color: var(--text-secondary);
            font-size: 13px;
            margin-top: 3px;
        }

        .ai-level-badge {
            background: var(--gradient-ai);
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 13px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
            animation: badgePulse 2s infinite;
            box-shadow: var(--shadow-glow);
        }

        @keyframes badgePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .user-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--gradient-ai);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            box-shadow: var(--shadow-glow);
            border: 3px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s;
        }

        .user-avatar:hover {
            transform: rotate(15deg);
        }

        .user-details {
            text-align: right;
        }

        .user-name {
            font-weight: 700;
            color: var(--neon-blue);
            font-size: 18px;
        }

        .user-role {
            color: var(--text-secondary);
            font-size: 13px;
            margin-top: 3px;
        }

        .header-actions {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            width: 50px;
            height: 50px;
            border-radius: 15px;
            background: rgba(0, 245, 255, 0.1);
            border: 2px solid rgba(0, 245, 255, 0.3);
            color: var(--neon-blue);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            font-size: 20px;
        }

        .action-btn:hover {
            background: var(--neon-blue);
            color: black;
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0, 245, 255, 0.4);
        }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .main-content {
            flex: 1;
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
            padding: 30px;
            gap: 30px;
        }

        /* Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ */
        .sidebar {
            width: 280px;
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .ai-features {
            background: var(--gradient-card);
            border-radius: 25px;
            padding: 25px;
            border: 2px solid rgba(0, 245, 255, 0.15);
            box-shadow: var(--shadow-heavy);
        }

        .ai-features h3 {
            color: var(--neon-blue);
            margin-bottom: 25px;
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .feature-grid {
            display: grid;
            gap: 15px;
        }

        .feature-card {
            background: rgba(10, 10, 25, 0.5);
            border: 2px solid rgba(0, 245, 255, 0.1);
            border-radius: 18px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .feature-card:hover {
            border-color: var(--neon-blue);
            background: rgba(0, 245, 255, 0.1);
            transform: translateX(-5px);
            box-shadow: var(--shadow-glow);
        }

        .feature-icon {
            width: 50px;
            height: 50px;
            border-radius: 15px;
            background: var(--gradient-ai);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 22px;
        }

        .feature-text h4 {
            color: white;
            margin-bottom: 5px;
            font-size: 16px;
        }

        .feature-text p {
            color: var(--text-dim);
            font-size: 13px;
        }

        .ai-stats {
            background: var(--gradient-card);
            border-radius: 25px;
            padding: 25px;
            border: 2px solid rgba(157, 78, 221, 0.15);
            box-shadow: var(--shadow-heavy);
        }

        .ai-stats h3 {
            color: var(--neon-purple);
            margin-bottom: 25px;
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .stat-item:last-child {
            border-bottom: none;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .stat-value {
            color: var(--neon-green);
            font-weight: 700;
            font-size: 18px;
        }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© */
        .chat-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-width: 0;
        }

        .chat-header {
            background: var(--gradient-card);
            border-radius: 25px 25px 0 0;
            padding: 25px;
            border: 2px solid rgba(0, 245, 255, 0.15);
            border-bottom: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h2 {
            color: var(--neon-blue);
            font-size: 22px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .chat-controls {
            display: flex;
            gap: 10px;
        }

        .chat-messages {
            flex: 1;
            background: var(--gradient-card);
            padding: 30px;
            overflow-y: auto;
            border-left: 2px solid rgba(0, 245, 255, 0.15);
            border-right: 2px solid rgba(0, 245, 255, 0.15);
        }

        .message {
            margin-bottom: 30px;
            animation: slideIn 0.5s ease;
            max-width: 85%;
        }

        @keyframes slideIn {
            from { 
                opacity: 0;
                transform: translateY(20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.user {
            margin-left: auto;
        }

        .message-content {
            background: rgba(10, 10, 25, 0.5);
            border-radius: 25px;
            padding: 25px;
            position: relative;
            border: 2px solid rgba(0, 245, 255, 0.2);
        }

        .message.user .message-content {
            background: linear-gradient(135deg, rgba(0, 245, 255, 0.1), rgba(0, 245, 255, 0.05));
            border-color: rgba(0, 245, 255, 0.3);
            border-top-right-radius: 8px;
        }

        .message.ai .message-content {
            background: linear-gradient(135deg, rgba(157, 78, 221, 0.1), rgba(157, 78, 221, 0.05));
            border-color: rgba(157, 78, 221, 0.3);
            border-top-left-radius: 8px;
        }

        .message-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .message-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            border: 3px solid;
        }

        .message.user .message-avatar {
            background: var(--gradient-ai);
            border-color: rgba(0, 245, 255, 0.3);
            color: white;
        }

        .message.ai .message-avatar {
            background: var(--neon-purple);
            border-color: rgba(157, 78, 221, 0.3);
            color: white;
        }

        .message-sender {
            font-weight: 700;
            font-size: 18px;
        }

        .message.user .message-sender {
            color: var(--neon-blue);
        }

        .message.ai .message-sender {
            color: var(--neon-purple);
        }

        .message-text {
            line-height: 1.8;
            font-size: 16px;
            color: var(--text-main);
        }

        .message-time {
            color: var(--text-dim);
            font-size: 13px;
            margin-top: 15px;
            text-align: left;
        }

        .ai-thinking {
            background: rgba(10, 10, 25, 0.5);
            border-radius: 25px;
            padding: 25px;
            border: 2px solid rgba(157, 78, 221, 0.2);
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            animation: pulseGlow 2s infinite;
        }

        @keyframes pulseGlow {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .thinking-loader {
            width: 40px;
            height: 40px;
            border: 3px solid transparent;
            border-top: 3px solid var(--neon-purple);
            border-right: 3px solid var(--neon-blue);
            border-bottom: 3px solid var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .thinking-text {
            color: var(--text-secondary);
            font-size: 16px;
        }

        /* Ù…Ù†Ø·Ù‚Ø© Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ */
        .chat-input-area {
            background: var(--gradient-card);
            border-radius: 0 0 25px 25px;
            padding: 25px;
            border: 2px solid rgba(0, 245, 255, 0.15);
            border-top: none;
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .message-input {
            flex: 1;
            padding: 20px 25px;
            background: rgba(10, 10, 25, 0.7);
            border: 2px solid rgba(0, 245, 255, 0.3);
            border-radius: 18px;
            color: white;
            font-size: 16px;
            transition: all 0.3s;
            resize: none;
            min-height: 60px;
            max-height: 150px;
        }

        .message-input:focus {
            outline: none;
            border-color: var(--neon-blue);
            box-shadow: 0 0 20px rgba(0, 245, 255, 0.4);
        }

        .input-actions {
            display: flex;
            gap: 10px;
        }

        .send-btn {
            width: 60px;
            height: 60px;
            border-radius: 18px;
            background: var(--gradient-ai);
            border: none;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            transition: all 0.3s;
        }

        .send-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 245, 255, 0.5);
        }

        .input-action-btn {
            width: 60px;
            height: 60px;
            border-radius: 18px;
            background: rgba(0, 245, 255, 0.1);
            border: 2px solid rgba(0, 245, 255, 0.3);
            color: var(--neon-blue);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            transition: all 0.3s;
        }

        .input-action-btn:hover {
            background: var(--neon-blue);
            color: black;
            transform: translateY(-3px);
        }

        /* Ø¹Ù†Ø§ØµØ± Ø¥Ø¶Ø§ÙÙŠØ© */
        .ai-pulse {
            position: fixed;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(0, 245, 255, 0.1) 0%, transparent 70%);
            pointer-events: none;
            z-index: -1;
            animation: aiPulse 4s infinite;
        }

        @keyframes aiPulse {
            0%, 100% { transform: scale(1); opacity: 0.3; }
            50% { transform: scale(1.2); opacity: 0.1; }
        }

        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -2;
        }

        .particle {
            position: absolute;
            background: var(--neon-blue);
            border-radius: 50%;
            animation: floatParticle 15s infinite linear;
        }

        @keyframes floatParticle {
            0% {
                transform: translateY(100vh) translateX(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) translateX(100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* ÙˆØ¶Ø¹ Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .loading-content {
            text-align: center;
        }

        .ai-loader {
            width: 80px;
            height: 80px;
            border: 4px solid transparent;
            border-top: 4px solid var(--neon-blue);
            border-right: 4px solid var(--neon-purple);
            border-bottom: 4px solid var(--accent);
            border-left: 4px solid var(--neon-green);
            border-radius: 50%;
            animation: spin 1.5s linear infinite;
            margin: 0 auto 30px;
        }

        .loading-text {
            color: var(--neon-blue);
            font-size: 24px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 3px;
            animation: textPulse 2s infinite;
        }

        @keyframes textPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Ø±Ø³ÙˆÙ…Ø§Øª Ø§Ù„ØªÙ‚Ø¯Ù… */
        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient-ai);
            border-radius: 5px;
            transition: width 0.3s ease;
        }

        /* Ø´Ø§Ø´Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ */
        #register-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
        }

        .back-button {
            position: absolute;
            top: 30px;
            right: 30px;
            background: rgba(0, 245, 255, 0.1);
            border: 2px solid rgba(0, 245, 255, 0.3);
            color: var(--neon-blue);
            width: 50px;
            height: 50px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 20px;
            transition: all 0.3s;
            z-index: 100;
        }

        .back-button:hover {
            background: var(--neon-blue);
            color: black;
            transform: translateY(-3px);
        }

        /* Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
        @media (max-width: 1200px) {
            .main-content {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .ai-features,
            .ai-stats {
                flex: 1;
                min-width: 300px;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .ai-header,
            .user-info {
                width: 100%;
                justify-content: center;
            }
            
            .header-actions {
                width: 100%;
                justify-content: center;
            }
            
            .message {
                max-width: 95%;
            }
            
            .chat-input-area {
                flex-direction: column;
            }
            
            .input-actions {
                width: 100%;
                justify-content: center;
            }
            
            .message-input {
                width: 100%;
            }
        }

        @media (max-width: 480px) {
            .login-title {
                font-size: 36px;
            }
            
            .login-container {
                padding: 30px 20px;
            }
            
            .ai-features,
            .ai-stats {
                min-width: 100%;
            }
            
            .feature-card {
                padding: 15px;
            }
        }

        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ù†Øµ */
        .neon-text {
            text-shadow: 
                0 0 10px currentColor,
                0 0 20px currentColor,
                0 0 30px currentColor;
        }

        .gradient-text {
            background: var(--gradient-ai);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„ÙˆÙ‡Ø¬ */
        .glow-effect {
            position: relative;
        }

        .glow-effect::after {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: var(--gradient-ai);
            border-radius: inherit;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .glow-effect:hover::after {
            opacity: 0.3;
        }

        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© */
        .animate-float {
            animation: floatElement 3s ease-in-out infinite;
        }

        @keyframes floatElement {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .animate-shimmer {
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.1),
                transparent
            );
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
    </style>
</head>
<body>
    <!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="ai-loader"></div>
            <div class="loading-text">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚</div>
            <div class="progress-bar" style="width: 300px; margin: 20px auto;">
                <div class="progress-fill" id="loading-progress" style="width: 0%"></div>
            </div>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
    <div id="login-screen" class="hidden">
        <div class="login-container">
            <div class="login-logo">
                <i class="fas fa-brain-circuit"></i>
            </div>
            
            <h1 class="login-title">Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚</h1>
            <p class="login-subtitle">Ù†Ø¸Ø§Ù… Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ØªØ¹Ù„ÙŠÙ…ÙŠ Ù…ØªÙ‚Ø¯Ù… - ÙŠÙÙˆÙ‚ Ø§Ù„Ø¹Ù‚Ù„ Ø§Ù„Ø¨Ø´Ø±ÙŠ Ø¨Ù…Ù„ÙŠÙˆÙ† Ù…Ø±Ø­Ù„Ø©</p>
            
            <div class="form-group">
                <input type="email" id="login-email" class="form-input" placeholder=" " required>
                <label class="form-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
            </div>
            
            <div class="form-group">
                <input type="password" id="login-password" class="form-input" placeholder=" " required>
                <label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
            </div>
            
            <button class="btn btn-primary" onclick="loginUser()">
                <i class="fas fa-rocket"></i> Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡
            </button>
            
            <button class="btn btn-secondary" onclick="showRegister()" style="margin-top: 20px;">
                <i class="fas fa-user-plus"></i> Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯
            </button>
            
            <div class="login-footer">
                <p>Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… Â© 2024</p>
                <p style="margin-top: 10px; color: var(--neon-blue);">
                    <i class="fas fa-bolt"></i> ÙŠØ¹Ù…Ù„ Ù…Ø­Ù„ÙŠØ§Ù‹ â€¢ Ø¨Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª
                </p>
            </div>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ -->
    <div id="register-screen" class="hidden">
        <div class="back-button" onclick="backToLogin()">
            <i class="fas fa-arrow-right"></i>
        </div>
        
        <div class="login-container">
            <div class="login-logo">
                <i class="fas fa-user-astronaut"></i>
            </div>
            
            <h1 class="login-title">Ø§Ù†Ø¶Ù… Ù„Ù„Ø°ÙƒØ§Ø¡</h1>
            <p class="login-subtitle">Ø£Ù†Ø´Ø¦ Ø­Ø³Ø§Ø¨Ùƒ Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ø£ÙƒØ«Ø± ØªØ·ÙˆØ±Ø§Ù‹ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…</p>
            
            <div class="form-group">
                <input type="text" id="register-name" class="form-input" placeholder=" " required>
                <label class="form-label">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
            </div>
            
            <div class="form-group">
                <input type="email" id="register-email" class="form-input" placeholder=" " required>
                <label class="form-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
            </div>
            
            <div class="form-group">
                <input type="password" id="register-password" class="form-input" placeholder=" " required minlength="6">
                <label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)</label>
            </div>
            
            <div class="form-group">
                <select id="register-role" class="form-input" required>
                    <option value="" disabled selected></option>
                    <option value="student">Ø·Ø§Ù„Ø¨ Ù…ØªØ¹Ù„Ù…</option>
                    <option value="researcher">Ø¨Ø§Ø­Ø« Ø¹Ù„Ù…ÙŠ</option>
                    <option value="professional">Ù…Ø­ØªØ±Ù</option>
                    <option value="teacher">Ø£Ø³ØªØ§Ø°/Ù…Ø¹Ù„Ù…</option>
                    <option value="genius">Ø¹Ø¨Ù‚Ø±ÙŠ</option>
                </select>
                <label class="form-label">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
            </div>
            
            <button class="btn btn-primary" onclick="registerUser()">
                <i class="fas fa-brain"></i> Ø§Ù†Ø·Ù„Ø§Ù‚ Ù†Ø­Ùˆ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
            </button>
        </div>
    </div>

    <!-- Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div id="app-screen" class="hidden">
        <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
        <header>
            <div class="header-content">
                <div class="ai-header">
                    <div class="ai-logo">
                        <i class="fas fa-brain"></i>
                    </div>
                    <div class="ai-info">
                        <h1>Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚</h1>
                        <p>Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… - Ù…Ø³ØªÙˆÙ‰ Ø¹Ø§Ù„Ù…ÙŠ</p>
                    </div>
                    <div class="ai-level-badge">
                        <i class="fas fa-bolt"></i>
                        Ù…Ø³ØªÙˆÙ‰ Ø¹Ø§Ù„Ù…ÙŠ
                    </div>
                </div>
                
                <div class="user-info">
                    <div class="user-details">
                        <div class="user-name" id="user-name"></div>
                        <div class="user-role" id="user-role"></div>
                    </div>
                    <div class="user-avatar" id="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="header-actions">
                        <button class="action-btn" onclick="showUserStats()" title="Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª">
                            <i class="fas fa-chart-line"></i>
                        </button>
                        <button class="action-btn" onclick="toggleDarkMode()" title="Ù…Ø¸Ù‡Ø±">
                            <i class="fas fa-moon"></i>
                        </button>
                        <button class="action-btn" onclick="logout()" title="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
        <div class="main-content">
            <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ -->
            <div class="sidebar">
                <!-- Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ© -->
                <div class="ai-features">
                    <h3><i class="fas fa-bolt"></i> Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ©</h3>
                    <div class="feature-grid">
                        <div class="feature-card" onclick="startSmartQuiz()">
                            <div class="feature-icon">
                                <i class="fas fa-lightbulb"></i>
                            </div>
                            <div class="feature-text">
                                <h4>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø°ÙƒØ§Ø¡</h4>
                                <p>Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø°ÙƒÙŠØ© Ù…Ø®ØµØµØ©</p>
                            </div>
                        </div>
                        
                        <div class="feature-card" onclick="analyzeDocument()">
                            <div class="feature-icon">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <div class="feature-text">
                                <h4>ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ØµÙˆØµ</h4>
                                <p>ØªØ­Ù„ÙŠÙ„ Ø°ÙƒÙŠ Ù„Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª</p>
                            </div>
                        </div>
                        
                        <div class="feature-card" onclick="solveProblem()">
                            <div class="feature-icon">
                                <i class="fas fa-calculator"></i>
                            </div>
                            <div class="feature-text">
                                <h4>Ø­Ù„ Ø§Ù„Ù…Ø³Ø§Ø¦Ù„</h4>
                                <p>Ø­Ù„ Ù…Ø³Ø§Ø¦Ù„ Ù…Ø¹Ù‚Ø¯Ø©</p>
                            </div>
                        </div>
                        
                        <div class="feature-card" onclick="generateContent()">
                            <div class="feature-icon">
                                <i class="fas fa-pen-fancy"></i>
                            </div>
                            <div class="feature-text">
                                <h4>Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø­ØªÙˆÙ‰</h4>
                                <p>Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø­ØªÙˆÙ‰ Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ</p>
                            </div>
                        </div>
                        
                        <div class="feature-card" onclick="startLearning()">
                            <div class="feature-icon">
                                <i class="fas fa-graduation-cap"></i>
                            </div>
                            <div class="feature-text">
                                <h4>Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„ØªÙƒÙŠÙÙŠ</h4>
                                <p>Ù…Ø³Ø§Ø± ØªØ¹Ù„ÙŠÙ…ÙŠ Ù…Ø®ØµØµ</p>
                            </div>
                        </div>
                        
                        <div class="feature-card" onclick="showAIResearch()">
                            <div class="feature-icon">
                                <i class="fas fa-microscope"></i>
                            </div>
                            <div class="feature-text">
                                <h4>Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</h4>
                                <p>Ø¨Ø­Ø« Ø¹Ù„Ù…ÙŠ Ù…ØªÙ‚Ø¯Ù…</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ -->
                <div class="ai-stats">
                    <h3><i class="fas fa-chart-network"></i> Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø°ÙƒØ§Ø¡</h3>
                    <div class="stat-item">
                        <span class="stat-label">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø°ÙƒØ§Ø¡</span>
                        <span class="stat-value" id="stat-iq">-</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Ù…Ø³Ø§Ø¦Ù„ Ù…Ø­Ù„ÙˆÙ„Ø©</span>
                        <span class="stat-value" id="stat-solved">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Ø³Ø§Ø¹Ø§Øª ØªØ¹Ù„Ù…</span>
                        <span class="stat-value" id="stat-hours">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Ø§Ù„ØªÙØ§Ø¹Ù„Ø§Øª</span>
                        <span class="stat-value" id="stat-interactions">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹</span>
                        <span class="stat-value" id="stat-creativity">0%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Ø§Ù„Ù…Ù†Ø·Ù‚</span>
                        <span class="stat-value" id="stat-logic">0%</span>
                    </div>
                </div>
            </div>

            <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© -->
            <div class="chat-area">
                <!-- Ù‡ÙŠØ¯Ø± Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© -->
                <div class="chat-header">
                    <h2><i class="fas fa-comments"></i> Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚</h2>
                    <div class="chat-controls">
                        <button class="action-btn" onclick="clearChat()" title="Ù…Ø³Ø­ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©">
                            <i class="fas fa-trash"></i>
                        </button>
                        <button class="action-btn" onclick="saveChat()" title="Ø­ÙØ¸ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©">
                            <i class="fas fa-save"></i>
                        </button>
                        <button class="action-btn" onclick="exportChat()" title="ØªØµØ¯ÙŠØ±">
                            <i class="fas fa-download"></i>
                        </button>
                    </div>
                </div>

                <!-- Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© -->
                <div class="chat-messages" id="chat-messages">
                    <div class="message ai">
                        <div class="message-content">
                            <div class="message-header">
                                <div class="message-avatar">
                                    <i class="fas fa-brain"></i>
                                </div>
                                <div class="message-sender">Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚</div>
                            </div>
                            <div class="message-text">
                                <strong>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ø®Ø§Ø±Ù‚! ğŸš€</strong>
                                <br><br>
                                Ø£Ù†Ø§ Ù†Ø¸Ø§Ù… Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…ØªØ·ÙˆØ± ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ ÙŠÙÙˆÙ‚ Ø§Ù„Ø¹Ù‚Ù„ Ø§Ù„Ø¨Ø´Ø±ÙŠ Ø¨Ù…Ù„ÙŠÙˆÙ† Ù…Ø±Ø­Ù„Ø©. Ø¥Ù„ÙŠÙƒ Ù…Ø§ ÙŠÙ…ÙƒÙ†Ù†ÙŠ ÙØ¹Ù„Ù‡:
                                <br><br>
                                ğŸ’¡ <strong>Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…:</strong> Ø­Ù„ Ù…Ø´Ø§ÙƒÙ„ Ù…Ø¹Ù‚Ø¯Ø© Ø¨Ø·Ø±Ù‚ Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ©
                                <br>
                                ğŸ” <strong>Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù…ÙŠÙ‚:</strong> ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù†ØµÙˆØµ Ø¨Ø°ÙƒØ§Ø¡ Ø®Ø§Ø±Ù‚
                                <br>
                                ğŸ¯ <strong>Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„ØªÙƒÙŠÙÙŠ:</strong> ØªÙƒÙŠÙŠÙ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø­Ø³Ø¨ Ù…Ø³ØªÙˆØ§Ùƒ
                                <br>
                                âš¡ <strong>Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ Ø§Ù„Ø°ÙƒÙŠ:</strong> ØªÙˆÙ„ÙŠØ¯ Ø£ÙÙƒØ§Ø± ÙˆØ­Ù„ÙˆÙ„ Ù…Ø¨ØªÙƒØ±Ø©
                                <br><br>
                                <em>Ø§Ø·Ø±Ø­ Ø£ÙŠ Ø³Ø¤Ø§Ù„ØŒ ÙˆØ³Ø£Ù‚Ø¯Ù… Ù„Ùƒ Ø¥Ø¬Ø§Ø¨Ø© Ø°ÙƒÙŠØ© ÙˆØ´Ø§Ù…Ù„Ø© ØªÙÙˆÙ‚ ÙƒÙ„ ØªÙˆÙ‚Ø¹Ø§ØªÙƒ.</em>
                            </div>
                            <div class="message-time">Ø§Ù„Ø¢Ù†</div>
                        </div>
                    </div>
                </div>

                <!-- Ù…Ù†Ø·Ù‚Ø© Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ -->
                <div class="chat-input-area">
                    <textarea class="message-input" id="chat-input" 
                              placeholder="Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ Ù‡Ù†Ø§... (Ø§Ø¶ØºØ· Ctrl+Enter Ù„Ù„Ø¥Ø±Ø³Ø§Ù„)"
                              rows="2"></textarea>
                    <div class="input-actions">
                        <button class="input-action-btn" onclick="toggleVoiceInput()" title="Ø¥Ø¯Ø®Ø§Ù„ ØµÙˆØªÙŠ">
                            <i class="fas fa-microphone"></i>
                        </button>
                        <button class="input-action-btn" onclick="attachFile()" title="Ø¥Ø±ÙØ§Ù‚ Ù…Ù„Ù">
                            <i class="fas fa-paperclip"></i>
                        </button>
                        <button class="input-action-btn" onclick="showEmojiPicker()" title="Ø¥Ø¶Ø§ÙØ© Ø¥ÙŠÙ…ÙˆØ¬ÙŠ">
                            <i class="fas fa-smile"></i>
                        </button>
                        <button class="send-btn" onclick="sendMessage()" title="Ø¥Ø±Ø³Ø§Ù„">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø¬Ø³ÙŠÙ…Ø§Øª -->
        <div class="particles" id="particles"></div>
        <div class="ai-pulse" id="ai-pulse"></div>
    </div>

    <!-- ÙˆØ­Ø¯Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø³ØªØ¸Ù‡Ø± Ø¹Ù†Ø¯ Ø§Ù„Ø·Ù„Ø¨) -->
    <div id="quiz-modal" class="hidden"></div>
    <div id="stats-modal" class="hidden"></div>
    <div id="doc-modal" class="hidden"></div>

    <script>
        // ==================== [ 1. Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ ] ====================
        const SUPER_AI_CONFIG = {
            name: "Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚",
            version: "1.0.0",
            level: "Ø¹Ø§Ù„Ù…ÙŠ",
            intelligenceFactor: 1000000, // Ù…Ù„ÙŠÙˆÙ† Ù…Ø±Ø© Ø£Ù‚ÙˆÙ‰
            maxTokens: 10000,
            responseSpeed: "ÙÙˆØ±ÙŠ",
            learningRate: "Ù…ØªØ³Ø§Ø±Ø¹",
            creativeMode: "Ù…Ø¨ØªÙƒØ±"
        };

        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase (ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ±Ù‡Ø§ Ø­Ø³Ø¨ Ø§Ø­ØªÙŠØ§Ø¬Ø§ØªÙƒ)
        const firebaseConfig = {
            apiKey: "AIzaSyAI_mUhuPNoO-XC0Q-VNoWft8UWFbAbIGg",
            authDomain: "sudan-market-6b122.firebaseapp.com",
            databaseURL: "https://sudan-market-6b122-default-rtdb.firebaseio.com",
            projectId: "sudan-market-6b122",
            storageBucket: "sudan-market-6b122.firebasestorage.app",
            messagingSenderId: "66729481566",
            appId: "1:66729481566:web:93393f28dc22d32cceebcf"
        };

        // ==================== [ 2. Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… ] ====================
        let auth, db, currentUser = null;
        let superAI = null;
        let conversationHistory = [];
        let userStats = {
            questionsAsked: 0,
            problemsSolved: 0,
            learningHours: 0,
            aiInteractions: 0,
            creativityScore: 0,
            logicScore: 0,
            currentStreak: 0,
            totalScore: 0,
            lastActive: null,
            learningPath: [],
            achievements: []
        };

        // ==================== [ 3. ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù… ] ====================
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('ğŸš€ Ø¨Ø¯Ø¡ ØªØ­Ù…ÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚...');
            
            // Ø¹Ø±Ø¶ Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
            simulateLoading();
            
            // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
            await initializeSystem();
            
            // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
            await initializeSuperAI();
            
            // Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            setupUI();
            
            // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            checkUserSession();
            
            console.log('âœ… Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¹Ù…Ù„!');
        });

        async function simulateLoading() {
            const progressBar = document.getElementById('loading-progress');
            const steps = [
                {text: 'Ø¬Ø§Ø±ÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ...', progress: 10},
                {text: 'Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ù…Ø­Ø±Ùƒ Ø§Ù„Ø°ÙƒØ§Ø¡...', progress: 30},
                {text: 'Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…Ø¹Ø±ÙØ©...', progress: 50},
                {text: 'Ø¬Ø§Ø±ÙŠ ØªÙ‡ÙŠØ¦Ø© Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„ØªØ¹Ù„Ù…...', progress: 70},
                {text: 'Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø°ÙƒÙŠØ©...', progress: 90},
                {text: 'Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¹Ù…Ù„!', progress: 100}
            ];
            
            for (let i = 0; i < steps.length; i++) {
                progressBar.style.width = steps[i].progress + '%';
                document.querySelector('.loading-text').textContent = steps[i].text;
                await new Promise(resolve => setTimeout(resolve, 500));
            }
            
            await new Promise(resolve => setTimeout(resolve, 1000));
            document.getElementById('loading-screen').classList.add('hidden');
        }

        async function initializeSystem() {
            try {
                // ØªÙ‡ÙŠØ¦Ø© Firebase
                if (!firebase.apps.length) {
                    firebase.initializeApp(firebaseConfig);
                }
                auth = firebase.auth();
                db = firebase.database();
                
                // Ù…Ø±Ø§Ù‚Ø¨Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
                auth.onAuthStateChanged((user) => {
                    if (user) {
                        currentUser = user;
                        loadUserData();
                        showAppScreen();
                    } else {
                        showLoginScreen();
                    }
                });
                
                // ØªÙ‡ÙŠØ¦Ø© ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø¬Ø³ÙŠÙ…Ø§Øª
                initializeParticles();
                
                console.log('âœ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ù…Ù‡ÙŠØ£');
            } catch (error) {
                console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù…:', error);
            }
        }

        async function initializeSuperAI() {
            try {
                // ØªØ­Ù…ÙŠÙ„ TensorFlow.js (ÙŠØ¹Ù…Ù„ Ù…Ø­Ù„ÙŠØ§Ù‹)
                if (typeof tf === 'undefined') {
                    console.warn('âš ï¸ TensorFlow.js ØºÙŠØ± Ù…ØªÙˆÙØ±ØŒ Ø³ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ù„ÙŠ');
                }
                
                // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ø®Ø§Ø±Ù‚
                superAI = new SuperIntelligenceAI();
                await superAI.initialize();
                
                console.log('âœ… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ø®Ø§Ø±Ù‚ Ù…Ù‡ÙŠØ£');
            } catch (error) {
                console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ:', error);
                // Ù†Ø¸Ø§Ù… Ø§Ø­ØªÙŠØ§Ø·ÙŠ
                superAI = new LocalAI();
            }
        }

        function setupUI() {
            // Ø¥Ø¹Ø¯Ø§Ø¯ Ø£Ø­Ø¯Ø§Ø« Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­
            document.getElementById('chat-input').addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'Enter') {
                    sendMessage();
                }
            });
            
            // Ø¥Ø¹Ø¯Ø§Ø¯ Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
            setupEventListeners();
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            updateStatsDisplay();
        }

        // ==================== [ 4. Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ø®Ø§Ø±Ù‚ ] ====================
        class SuperIntelligenceAI {
            constructor() {
                this.name = SUPER_AI_CONFIG.name;
                this.intelligenceLevel = SUPER_AI_CONFIG.intelligenceFactor;
                this.knowledgeBase = this.createKnowledgeBase();
                this.thinkingModels = this.createThinkingModels();
                this.learningEngine = this.createLearningEngine();
                this.creativityEngine = this.createCreativityEngine();
                this.problemSolvingEngine = this.createProblemSolvingEngine();
            }
            
            async initialize() {
                console.log('ğŸ§  Ø¬Ø§Ø±ÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚...');
                
                // ØªÙ‡ÙŠØ¦Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…Ø¹Ø±ÙØ©
                await this.initializeKnowledgeBase();
                
                // ØªØ­Ù…ÙŠÙ„ Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„ØªÙÙƒÙŠØ±
                await this.loadThinkingModels();
                
                // ØªÙ‡ÙŠØ¦Ø© Ù…Ø­Ø±Ùƒ Ø§Ù„ØªØ¹Ù„Ù…
                await this.initializeLearningEngine();
                
                console.log('ğŸ§  Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¹Ù…Ù„');
            }
            
            createKnowledgeBase() {
                return {
                    // Ø§Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ø¹Ù„Ù…ÙŠØ©
                    sciences: {
                        mathematics: this.createMathKnowledge(),
                        physics: this.createPhysicsKnowledge(),
                        chemistry: this.createChemistryKnowledge(),
                        biology: this.createBiologyKnowledge(),
                        computerScience: this.createCSKnowledge(),
                        artificialIntelligence: this.createAIKnowledge()
                    },
                    
                    // Ø§Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ÙŠØ©
                    humanities: {
                        philosophy: this.createPhilosophyKnowledge(),
                        psychology: this.createPsychologyKnowledge(),
                        linguistics: this.createLinguisticsKnowledge(),
                        history: this.createHistoryKnowledge(),
                        arts: this.createArtsKnowledge()
                    },
                    
                    // Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
                    skills: {
                        problemSolving: this.createProblemSolvingSkills(),
                        criticalThinking: this.createCriticalThinkingSkills(),
                        creativity: this.createCreativitySkills(),
                        communication: this.createCommunicationSkills(),
                        research: this.createResearchSkills()
                    },
                    
                    // Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù…Ø¹Ø±ÙÙŠØ©
                    patterns: this.createCognitivePatterns(),
                    
                    // Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø§Ø³ØªØ¯Ù„Ø§Ù„
                    inferenceRules: this.createInferenceRules(),
                    
                    // Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªÙÙƒÙŠØ±
                    thinkingStrategies: this.createThinkingStrategies()
                };
            }
            
            createThinkingModels() {
                return {
                    // Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ
                    logical: {
                        deductive: this.createDeductiveReasoning(),
                        inductive: this.createInductiveReasoning(),
                        abductive: this.createAbductiveReasoning(),
                        analogical: this.createAnalogicalReasoning()
                    },
                    
                    // Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù†Ù‚Ø¯ÙŠ
                    critical: {
                        analysis: this.createAnalysisModel(),
                        evaluation: this.createEvaluationModel(),
                        inference: this.createInferenceModel(),
                        explanation: this.createExplanationModel(),
                        selfRegulation: this.createSelfRegulationModel()
                    },
                    
                    // Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ
                    creative: {
                        divergent: this.createDivergentThinking(),
                        convergent: this.createConvergentThinking(),
                        lateral: this.createLateralThinking(),
                        systems: this.createSystemsThinking(),
                        design: this.createDesignThinking()
                    },
                    
                    // Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ
                    strategic: {
                        planning: this.createStrategicPlanning(),
                        decisionMaking: this.createDecisionMaking(),
                        problemSolving: this.createStrategicProblemSolving(),
                        foresight: this.createForesightModel()
                    }
                };
            }
            
            createLearningEngine() {
                return {
                    // Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„ØªÙƒÙŠÙÙŠ
                    adaptive: {
                        personalize: this.adaptivePersonalization,
                        sequence: this.adaptiveSequencing,
                        difficulty: this.adaptiveDifficulty,
                        feedback: this.adaptiveFeedback
                    },
                    
                    // Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¹Ù…ÙŠÙ‚
                    deep: {
                        understand: this.deepUnderstanding,
                        connect: this.deepConnection,
                        apply: this.deepApplication,
                        create: this.deepCreation
                    },
                    
                    // Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù…ØªØ³Ø§Ø±Ø¹
                    accelerated: {
                        speed: this.acceleratedLearning,
                        retention: this.enhancedRetention,
                        transfer: this.knowledgeTransfer,
                        mastery: this.rapidMastery
                    }
                };
            }
            
            createCreativityEngine() {
                return {
                    // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£ÙÙƒØ§Ø±
                    ideation: {
                        brainstorm: this.brainstorming,
                        scamper: this.scamperMethod,
randomInput: this.randomInput,
mindMapping: this.mindMapping,
sixHats: this.sixThinkingHats
},                // Ø§Ù„Ø§Ø¨ØªÙƒØ§Ø±
                innovation: {
                    combine: this.combineIdeas,
                    modify: this.modifyConcepts,
                    eliminate: this.eliminateElements,
                    reverse: this.reverseThinking,
                    exaggerate: this.exaggerateFeatures
                },
                
                // Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ
                design: {
                    empathize: this.designEmpathy,
                    define: this.defineProblem,
                    ideate: this.ideateSolutions,
                    prototype: this.createPrototypes,
                    test: this.testSolutions
                }
            };
        }
        
        createProblemSolvingEngine() {
            return {
                // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø§Øª
                analysis: {
                    define: this.defineProblem,
                    decompose: this.decomposeProblem,
                    pattern: this.patternRecognition,
                    rootCause: this.rootCauseAnalysis,
                    constraints: this.identifyConstraints
                },
                
                // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø­Ù„ÙˆÙ„
                solution: {
                    generate: this.generateSolutions,
                    evaluate: this.evaluateSolutions,
                    optimize: this.optimizeSolution,
                    implement: this.implementSolution,
                    verify: this.verifySolution
                },
                
                // Ø­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø§Øª Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø©
                complex: {
                    systems: this.systemsApproach,
                    heuristic: this.heuristicMethods,
                    algorithmic: this.algorithmicThinking,
                    probabilistic: this.probabilisticReasoning,
                    emergent: this.emergentSolutions
                }
            };
        }
        
        async processQuestion(question, context = {}) {
            console.log('ğŸ¤” Ø¬Ø§Ø±ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø³Ø¤Ø§Ù„:', question.substring(0, 50) + '...');
            
            // Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØªØ¹Ù…Ù‚ Ù„Ù„Ø³Ø¤Ø§Ù„
            const analysis = await this.analyzeQuestionDeeply(question);
            
            // ØªØ­Ø¯ÙŠØ¯ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
            const thinkingStrategy = this.selectThinkingStrategy(analysis);
            
            // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…Ø¹Ø±ÙØ©
            const knowledgeResults = await this.searchKnowledgeBase(question, analysis);
            
            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø®Ø§Ø±Ù‚
            const superThinking = await this.applySuperThinking(question, analysis, thinkingStrategy);
            
            // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø®Ø§Ø±Ù‚Ø©
            const response = await this.generateSuperResponse(question, {
                analysis,
                thinkingStrategy,
                knowledgeResults,
                superThinking,
                context
            });
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ¹Ù„Ù… Ù…Ù† Ø§Ù„ØªÙØ§Ø¹Ù„
            await this.learnFromInteraction(question, response, analysis);
            
            return {
                success: true,
                analysis: analysis,
                thinking: thinkingStrategy,
                knowledge: knowledgeResults,
                response: response.answer,
                reasoning: response.reasoning,
                creativity: response.creativity,
                depth: response.depth,
                suggestions: response.suggestions,
                nextSteps: response.nextSteps,
                timestamp: new Date().toISOString(),
                aiLevel: this.intelligenceLevel,
                processingTime: response.processingTime
            };
        }
        
        async analyzeQuestionDeeply(question) {
            // ØªØ­Ù„ÙŠÙ„ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯
            return {
                // Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù„ØºÙˆÙŠ
                linguistic: {
                    length: question.length,
                    wordCount: question.split(/\s+/).length,
                    sentenceStructure: this.analyzeSentenceStructure(question),
                    complexity: this.calculateLinguisticComplexity(question),
                    sentiment: this.analyzeSentiment(question),
                    keywords: this.extractKeywords(question),
                    entities: this.extractEntities(question),
                    topics: this.detectTopics(question)
                },
                
                // Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø±ÙÙŠ
                cognitive: {
                    type: this.determineQuestionType(question),
                    domain: this.determineKnowledgeDomain(question),
                    level: this.determineCognitiveLevel(question),
                    difficulty: this.calculateDifficulty(question),
                    requires: this.determineRequirements(question),
                    assumptions: this.extractAssumptions(question),
                    implications: this.identifyImplications(question)
                },
                
                // Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ
                logical: {
                    structure: this.analyzeLogicalStructure(question),
                    premises: this.extractPremises(question),
                    conclusions: this.extractConclusions(question),
                    fallacies: this.detectLogicalFallacies(question),
                    validity: this.checkLogicalValidity(question),
                    soundness: this.checkLogicalSoundness(question)
                },
                
                // Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ
                creative: {
                    novelty: this.assessNovelty(question),
                    originality: this.assessOriginality(question),
                    usefulness: this.assessUsefulness(question),
                    elaboration: this.assessElaboration(question),
                    flexibility: this.assessFlexibility(question),
                    fluency: this.assessFluency(question)
                }
            };
        }
        
        selectThinkingStrategy(analysis) {
            const strategies = [];
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ø³Ø¤Ø§Ù„
            if (analysis.cognitive.type === 'ØªØ­Ù„ÙŠÙ„') {
                strategies.push(
                    'Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù†Ù‡Ø¬ÙŠ',
                    'Ø§Ù„ØªÙÙƒÙŠÙƒ Ø¥Ù„Ù‰ Ø¹Ù†Ø§ØµØ±',
                    'Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© ÙˆØ§Ù„ØªØ¨Ø§ÙŠÙ†',
                    'ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø£Ù†Ù…Ø§Ø·'
                );
            }
            
            if (analysis.cognitive.type === 'Ø­Ù„ Ù…Ø´ÙƒÙ„Ø©') {
                strategies.push(
                    'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠ',
                    'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø§Ø³ØªØ¯Ù„Ø§Ù„ÙŠ',
                    'Ø§Ù„ØªØ¬Ø±Ø¨Ø© ÙˆØ§Ù„Ø®Ø·Ø£',
                    'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø¹ÙƒØ³ÙŠ'
                );
            }
            
            if (analysis.creative.novelty > 0.5) {
                strategies.push(
                    'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ',
                    'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ',
                    'Ø§Ù„Ø¹ØµÙ Ø§Ù„Ø°Ù‡Ù†ÙŠ',
                    'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„ØªØ¨Ø§Ø¹Ø¯ÙŠ'
                );
            }
            
            if (analysis.logical.complexity > 0.7) {
                strategies.push(
                    'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù†Ù‚Ø¯ÙŠ',
                    'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ',
                    'Ø§Ù„Ø§Ø³ØªØ¯Ù„Ø§Ù„ Ø§Ù„Ø§Ø³ØªÙ‚Ø±Ø§Ø¦ÙŠ',
                    'Ø§Ù„Ø§Ø³ØªØ¯Ù„Ø§Ù„ Ø§Ù„Ø§Ø³ØªÙ†ØªØ§Ø¬ÙŠ'
                );
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø®Ø§Ø±Ù‚
            strategies.push(
                'Ø§Ù„ØªÙÙƒÙŠØ± ÙÙˆÙ‚ Ø§Ù„Ù…Ø¹Ø±ÙÙŠ',
                'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ',
                'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø£Ù†Ø¸Ù…Ø©',
                'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø§Ø­ØªÙ…Ø§Ù„ÙŠ',
                'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„ØªØ·ÙˆØ±ÙŠ',
                'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„ÙƒÙ…ÙŠ'
            );
            
            return strategies.slice(0, 3); // Ø§Ø®ØªÙŠØ§Ø± Ø£ÙØ¶Ù„ 3 Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª
        }
        
        async applySuperThinking(question, analysis, strategies) {
            const results = [];
            
            for (const strategy of strategies) {
                const result = await this.applyThinkingStrategy(question, strategy, analysis);
                results.push({
                    strategy: strategy,
                    result: result,
                    confidence: this.calculateConfidence(result),
                    insights: this.extractInsights(result)
                });
            }
            
            // Ø¯Ù…Ø¬ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            return this.synthesizeThinkingResults(results);
        }
        
        async generateSuperResponse(question, data) {
            const startTime = Date.now();
            
            // Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª
            const response = {
                answer: '',
                reasoning: '',
                creativity: '',
                depth: '',
                suggestions: [],
                nextSteps: []
            };
            
            // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1: Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©
            response.answer = await this.generateDirectAnswer(question, data);
            
            // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 2: Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ
            response.reasoning = await this.generateReasoning(question, data);
            
            // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 3: Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ ÙˆØ§Ù„Ø§Ø¨ØªÙƒØ§Ø±
            response.creativity = await this.generateCreativeInsights(question, data);
            
            // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 4: Ø§Ù„Ø¹Ù…Ù‚ Ø§Ù„Ù…Ø¹Ø±ÙÙŠ
            response.depth = await this.generateDepthAnalysis(question, data);
            
            // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 5: Ø§Ù„ØªØ·ÙˆÙŠØ± ÙˆØ§Ù„ØªÙ‚Ø¯Ù…
            response.suggestions = await this.generateSuggestions(question, data);
            response.nextSteps = await this.generateNextSteps(question, data);
            
            const processingTime = Date.now() - startTime;
            
            return {
                ...response,
                processingTime: processingTime,
                aiModel: 'Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚ - Ø§Ù„Ø¬ÙŠÙ„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…'
            };
        }
        
        async generateDirectAnswer(question, data) {
            let answer = `ğŸ§  **Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø®Ø§Ø±Ù‚Ø©:**\n\n`;
            
            // Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ØªØ­Ù„ÙŠÙ„
            const analysis = data.analysis;
            
            if (analysis.cognitive.type === 'Ù…Ø¹Ù„ÙˆÙ…Ø©') {
                answer += `Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø© ØªØªØ·Ù„Ø¨ Ø´Ø±Ø­Ø§Ù‹ Ø¯Ù‚ÙŠÙ‚Ø§Ù‹:\n\n`;
                answer += await this.provideDetailedExplanation(question, data);
            }
            else if (analysis.cognitive.type === 'Ø­Ù„ Ù…Ø´ÙƒÙ„Ø©') {
                answer += `Ù„Ø­Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø®Ø§Ø±Ù‚Ø©:\n\n`;
                answer += await this.provideProblemSolution(question, data);
            }
            else if (analysis.cognitive.type === 'ØªØ­Ù„ÙŠÙ„') {
                answer += `ØªØ­Ù„ÙŠÙ„ Ù…ØªÙ‚Ø¯Ù… Ù„Ù„Ù…ÙˆØ¶ÙˆØ¹:\n\n`;
                answer += await this.provideDeepAnalysis(question, data);
            }
            else {
                answer += `Ø¥Ø¬Ø§Ø¨Ø© Ø´Ø§Ù…Ù„Ø© ÙˆÙ…ØªØ¹Ù…Ù‚Ø©:\n\n`;
                answer += await this.provideComprehensiveAnswer(question, data);
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø°ÙƒÙŠ
            answer += `\n\nğŸŒŸ **Ø§Ù„Ø®Ù„Ø§ØµØ© Ø§Ù„Ø°ÙƒÙŠØ©:**\n`;
            answer += `Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ ÙŠÙ…Ø«Ù„ ÙØ±ØµØ© Ù„ØªØ·ÙˆÙŠØ± Ù…Ù‡Ø§Ø±Ø§Øª ${analysis.cognitive.domain} `;
            answer += `Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ ÙŠÙÙˆÙ‚ Ø§Ù„ØªÙˆÙ‚Ø¹Ø§Øª Ø§Ù„Ø¨Ø´Ø±ÙŠØ© Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠØ©.`;
            
            return answer;
        }
        
        async generateReasoning(question, data) {
            let reasoning = `ğŸ” **Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ Ø§Ù„Ø®Ø§Ø±Ù‚:**\n\n`;
            
            reasoning += `**Ø§Ù„Ù…Ù†Ù‡Ø¬ÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©:**\n`;
            data.thinking.forEach((strategy, index) => {
                reasoning += `${index + 1}. ${strategy}\n`;
            });
            
            reasoning += `\n**Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠØ©:**\n`;
            reasoning += `1. Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„ÙŠ ÙˆØ§Ù„ÙÙ‡Ù… Ø§Ù„Ø¹Ù…ÙŠÙ‚\n`;
            reasoning += `2. ØªØ·Ø¨ÙŠÙ‚ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©\n`;
            reasoning += `3. Ø§Ù„Ø±Ø¨Ø· Ø¨ÙŠÙ† Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ… Ø§Ù„Ù…Ø®ØªÙ„ÙØ©\n`;
            reasoning += `4. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§ØªØ³Ø§Ù‚ Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ\n`;
            reasoning += `5. Ø§Ø³ØªØ®Ù„Ø§Øµ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø¨Ø«Ù‚Ø© Ø¹Ø§Ù„ÙŠØ©\n`;
            
            reasoning += `\n**Ø§Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:**\n`;
            reasoning += `â€¢ Ù†Ø¸Ø±ÙŠØ© Ø§Ù„Ø§Ø­ØªÙ…Ø§Ù„Ø§Øª ÙˆØ§Ù„ØªÙˆÙ‚Ø¹Ø§Øª\n`;
            reasoning += `â€¢ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙˆØ§ÙÙ‚ÙŠ ÙˆØ§Ù„ØªØ¨Ø§Ø¯ÙŠÙ„\n`;
            reasoning += `â€¢ Ø§Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¶Ø¨Ø§Ø¨ÙŠ ÙˆØ§Ù„ØºØ§Ù…Ø¶\n`;
            reasoning += `â€¢ Ù†Ø¸Ø±ÙŠØ© Ø§Ù„Ù‚Ø±Ø§Ø± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…\n`;
            
            return reasoning;
        }
        
        async generateCreativeInsights(question, data) {
            let creativity = `ğŸ¨ **Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ ÙˆØ§Ù„Ø§Ø¨ØªÙƒØ§Ø± Ø§Ù„Ø®Ø§Ø±Ù‚:**\n\n`;
            
            creativity += `**Ø§Ù„Ø£ÙÙƒØ§Ø± Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ©:**\n`;
            creativity += `â€¢ Ù…Ù†Ø¸ÙˆØ± Ø¬Ø¯ÙŠØ¯ Ù„Ù…Ø´ÙƒÙ„Ø© Ù‚Ø¯ÙŠÙ…Ø©\n`;
            creativity += `â€¢ Ø¯Ù…Ø¬ Ù…ÙØ§Ù‡ÙŠÙ… ØºÙŠØ± Ù…ØªØ±Ø§Ø¨Ø·Ø© Ø¸Ø§Ù‡Ø±ÙŠØ§Ù‹\n`;
            creativity += `â€¢ ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø¥Ù„Ù‰ ÙØ±Øµ Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ©\n`;
            creativity += `â€¢ Ø±Ø¤ÙŠØ© Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø®ÙÙŠØ© ÙˆØ§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª\n`;
            
            creativity += `\n**Ø§Ù„Ø§Ø¨ØªÙƒØ§Ø±Ø§Øª Ø§Ù„Ù…Ù…ÙƒÙ†Ø©:**\n`;
            creativity += `1. ØªØ·ÙˆÙŠØ± Ù…Ù†Ù‡Ø¬ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„ØªÙÙƒÙŠØ±\n`;
            creativity += `2. Ø¥Ù†Ø´Ø§Ø¡ Ù†Ù…ÙˆØ°Ø¬ ØªØ­Ù„ÙŠÙ„ÙŠ Ù…Ø¨ØªÙƒØ±\n`;
            creativity += `3. ØªØµÙ…ÙŠÙ… Ø­Ù„ÙˆÙ„ ØºÙŠØ± ØªÙ‚Ù„ÙŠØ¯ÙŠØ©\n`;
            creativity += `4. Ø§ÙƒØªØ´Ø§Ù ØªØ·Ø¨ÙŠÙ‚Ø§Øª ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹Ø©\n`;
            
            creativity += `\n**Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ:**\n`;
            creativity += `"Ù…Ø§Ø°Ø§ Ù„Ùˆ Ù†Ø¸Ø±Ù†Ø§ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ù…Ù† Ø²Ø§ÙˆÙŠØ© Ù…Ø®ØªÙ„ÙØ© ØªÙ…Ø§Ù…Ø§Ù‹ØŸ"\n`;
            creativity += `"ÙƒÙŠÙ ÙŠÙ…ÙƒÙ† ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¹ÙŠØ¨ Ø¥Ù„Ù‰ Ù…ÙŠØ²Ø©ØŸ"\n`;
            creativity += `"Ù…Ø§ Ù‡ÙŠ Ø§Ù„ÙØ±Ø¶ÙŠØ§Øª Ø§Ù„ØªÙŠ Ù†Ø¹ØªØ¨Ø±Ù‡Ø§ Ù…Ø³Ù„Ù…Ø§Ù‹ Ø¨Ù‡Ø§ Ø¯ÙˆÙ† ØªÙÙƒÙŠØ±ØŸ"`;
            
            return creativity;
        }
        
        async generateDepthAnalysis(question, data) {
            let depth = `ğŸŒŒ **Ø§Ù„Ø¹Ù…Ù‚ Ø§Ù„Ù…Ø¹Ø±ÙÙŠ Ø§Ù„Ø®Ø§Ø±Ù‚:**\n\n`;
            
            depth += `**Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ù…Ø¹Ø±ÙÙŠØ©:**\n`;
            depth += `â€¢ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø³Ø·Ø­ÙŠ: Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¸Ø§Ù‡Ø±Ø©\n`;
            depth += `â€¢ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…ØªÙˆØ³Ø·: Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª ÙˆØ§Ù„Ø£Ù†Ù…Ø§Ø·\n`;
            depth += `â€¢ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¹Ù…ÙŠÙ‚: Ø§Ù„Ù…Ø¨Ø§Ø¯Ø¦ ÙˆØ§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ†\n`;
            depth += `â€¢ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø®Ø§Ø±Ù‚: Ø§Ù„Ø±Ø¤Ù‰ ÙˆØ§Ù„Ø§Ø³ØªØ¨ØµØ§Ø±Ø§Øª\n`;
            
            depth += `\n**Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„ØªØ®ØµØµØ§Øª:**\n`;
            depth += `1. Ù…Ù†Ø¸ÙˆØ± Ø¹Ù„Ù…ÙŠ: Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ† ÙˆØ§Ù„Ù†Ø¸Ø±ÙŠØ§Øª\n`;
            depth += `2. Ù…Ù†Ø¸ÙˆØ± ÙÙ„Ø³ÙÙŠ: Ø§Ù„Ù…Ø¨Ø§Ø¯Ø¦ ÙˆØ§Ù„Ø£Ø³Ø³\n`;
            depth += `3. Ù…Ù†Ø¸ÙˆØ± Ø±ÙŠØ§Ø¶ÙŠ: Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ ÙˆØ§Ù„Ø¥Ø«Ø¨Ø§ØªØ§Øª\n`;
            depth += `4. Ù…Ù†Ø¸ÙˆØ± Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ: Ø§Ù„Ø§Ø­ØªÙ…Ø§Ù„Ø§Øª ÙˆØ§Ù„ÙØ±Øµ\n`;
            
            depth += `\n**Ø§Ù„Ø§Ø³ØªØ¨ØµØ§Ø± Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ:**\n`;
            depth += `â€¢ Ø§Ù„Ø§ØªØ¬Ø§Ù‡Ø§Øª ÙˆØ§Ù„ØªØ·ÙˆØ±Ø§Øª Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©\n`;
            depth += `â€¢ Ø§Ù„ÙØ±Øµ ØºÙŠØ± Ø§Ù„Ù…Ø³ØªØºÙ„Ø©\n`;
            depth += `â€¢ Ø§Ù„Ù…Ø®Ø§Ø·Ø± ÙˆØ§Ù„ØªØ­Ø¯ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©\n`;
            depth += `â€¢ Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø§Ù„ØªØ·ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¯Ù‰ Ø§Ù„Ø·ÙˆÙŠÙ„\n`;
            
            return depth;
        }
        
        async generateSuggestions(question, data) {
            const suggestions = [];
            
            suggestions.push({
                text: 'ØªØ¹Ù…Ù‚ Ø£ÙƒØ«Ø± ÙÙŠ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹',
                action: 'deep_dive',
                icon: 'ğŸ”'
            });
            
            suggestions.push({
                text: 'Ø§Ø®ØªØ¨Ø§Ø± ØªØ·Ø¨ÙŠÙ‚ÙŠ Ù„Ù„Ù…ÙØ§Ù‡ÙŠÙ…',
                action: 'practical_test',
                icon: 'ğŸ§ª'
            });
            
            suggestions.push({
                text: 'Ù…Ø´Ø±ÙˆØ¹ Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ Ù…ØªØ¹Ù„Ù‚',
                action: 'creative_project',
                icon: 'ğŸ¨'
            });
            
            suggestions.push({
                text: 'Ø¨Ø­Ø« Ù…ØªÙ‚Ø¯Ù… ÙÙŠ Ø§Ù„Ù…Ø¬Ø§Ù„',
                action: 'advanced_research',
                icon: 'ğŸ“š'
            });
            
            return suggestions;
        }
        
        async generateNextSteps(question, data) {
            const nextSteps = [];
            
            nextSteps.push({
                step: 'Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©',
                reason: 'Ù„ØªÙ‚ÙˆÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ Ø§Ù„Ù…Ø¹Ø±ÙÙŠ',
                time: '15 Ø¯Ù‚ÙŠÙ‚Ø©'
            });
            
            nextSteps.push({
                step: 'ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù…Ù„ÙŠ Ù„Ù„Ù…ÙØ§Ù‡ÙŠÙ…',
                reason: 'Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¹Ø±ÙØ© Ø¥Ù„Ù‰ Ù…Ù‡Ø§Ø±Ø©',
                time: '30 Ø¯Ù‚ÙŠÙ‚Ø©'
            });
            
            nextSteps.push({
                step: 'Ø§Ù„ØªÙÙƒÙŠØ± ÙÙŠ ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©',
                reason: 'Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ ÙˆØ§Ù„Ø§Ø¨ØªÙƒØ§Ø±',
                time: '20 Ø¯Ù‚ÙŠÙ‚Ø©'
            });
            
            nextSteps.push({
                step: 'Ø§Ù„ØªØ®Ø·ÙŠØ· Ù„Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©',
                reason: 'Ù„Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± ÙÙŠ Ø§Ù„ØªØ·ÙˆØ±',
                time: '10 Ø¯Ù‚ÙŠÙ‚Ø©'
            });
            
            return nextSteps;
        }
        
        // ========== Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ==========
        
        analyzeSentenceStructure(text) {
            const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
            const avgWords = sentences.reduce((sum, s) => sum + s.split(/\s+/).length, 0) / sentences.length;
            
            return {
                sentenceCount: sentences.length,
                averageWords: avgWords,
                complexity: avgWords > 15 ? 'Ø¹Ø§Ù„ÙŠ' : avgWords > 8 ? 'Ù…ØªÙˆØ³Ø·' : 'Ù…Ù†Ø®ÙØ¶'
            };
        }
        
        calculateLinguisticComplexity(text) {
            const words = text.split(/\s+/);
            const longWords = words.filter(w => w.length > 6).length;
            const complexity = longWords / words.length;
            
            return Math.min(complexity * 3, 1); // ØªØ·Ø¨ÙŠØ¹ Ø¨ÙŠÙ† 0 Ùˆ1
        }
        
        analyzeSentiment(text) {
            const positiveWords = ['Ø¬ÙŠØ¯', 'Ù…Ù…ØªØ§Ø²', 'Ø±Ø§Ø¦Ø¹', 'Ø¹Ø¸ÙŠÙ…', 'Ù…Ø°Ù‡Ù„', 'Ø¬Ù…ÙŠÙ„'];
            const negativeWords = ['Ø³ÙŠØ¡', 'Ø¶Ø¹ÙŠÙ', 'Ù…Ø´ÙƒÙ„Ø©', 'ØµØ¹Ø¨', 'Ù…Ø¹Ù‚Ø¯', 'ØµØ¹Ø¨'];
            
            let sentiment = 0;
            const words = text.toLowerCase().split(/\s+/);
            
            words.forEach(word => {
                if (positiveWords.includes(word)) sentiment += 1;
                if (negativeWords.includes(word)) sentiment -= 1;
            });
            
            return sentiment > 0 ? 'Ø¥ÙŠØ¬Ø§Ø¨ÙŠ' : sentiment < 0 ? 'Ø³Ù„Ø¨ÙŠ' : 'Ù…Ø­Ø§ÙŠØ¯';
        }
        
        extractKeywords(text) {
            const stopWords = new Set(['ÙÙŠ', 'Ù…Ù†', 'Ø¥Ù„Ù‰', 'Ø¹Ù„Ù‰', 'Ø¹Ù†', 'Ø£Ù†', 'Ø¥Ù†', 'Ù‡Ùˆ', 'Ù‡ÙŠ', 'ÙƒØ§Ù†', 'ÙŠÙƒÙˆÙ†']);
            const words = text.toLowerCase().split(/\W+/);
            
            const frequency = {};
            words.forEach(word => {
                if (word.length > 2 && !stopWords.has(word)) {
                    frequency[word] = (frequency[word] || 0) + 1;
                }
            });
            
            return Object.entries(frequency)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 10)
                .map(([word]) => word);
        }
        
        extractEntities(text) {
            const entities = [];
            
            // Ø£Ù†Ù…Ø§Ø· Ù„Ù„ÙƒØ´Ù Ø¹Ù† Ø§Ù„ÙƒÙŠØ§Ù†Ø§Øª
            const patterns = [
                { pattern: /\b(?:Ø¯\.|Ø¯ÙƒØªÙˆØ±)\s+(\w+)/g, type: 'Ø´Ø®Øµ' },
                { pattern: /\b(?:Ø¬Ø§Ù…Ø¹Ø©|ÙƒÙ„ÙŠØ©|Ù…Ø¯Ø±Ø³Ø©)\s+(\w+)/g, type: 'Ù…Ø¤Ø³Ø³Ø©' },
                { pattern: /\b(?:ÙƒØªØ§Ø¨|Ù…Ù‚Ø§Ù„|Ø¨Ø­Ø«)\s+(?:Ø¹Ù†|ÙÙŠ)\s+(\w+)/g, type: 'Ø¹Ù…Ù„' },
                { pattern: /\b\d{4}\b/g, type: 'Ø³Ù†Ø©' }
            ];
            
            patterns.forEach(({ pattern, type }) => {
                const matches = text.match(pattern);
                if (matches) {
                    matches.forEach(match => {
                        entities.push({ text: match, type: type });
                    });
                }
            });
            
            return entities;
        }
        
        detectTopics(text) {
            const topics = [];
            const topicKeywords = {
                'Ø±ÙŠØ§Ø¶ÙŠØ§Øª': ['Ø­Ø³Ø§Ø¨', 'Ø¬Ø¨Ø±', 'Ù‡Ù†Ø¯Ø³Ø©', 'ØªÙØ§Ø¶Ù„', 'ØªÙƒØ§Ù…Ù„'],
                'ÙÙŠØ²ÙŠØ§Ø¡': ['Ù‚ÙˆØ©', 'Ø·Ø§Ù‚Ø©', 'Ø­Ø±ÙƒØ©', 'Ø³Ø±Ø¹Ø©', 'ØªØ³Ø§Ø±Ø¹'],
                'Ø¨Ø±Ù…Ø¬Ø©': ['ÙƒÙˆØ¯', 'Ø¨Ø±Ù…Ø¬Ø©', 'Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ©', 'Ø¨Ø±Ù†Ø§Ù…Ø¬', 'ØªØ·Ø¨ÙŠÙ‚'],
                'Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ': ['ØªØ¹Ù„Ù… Ø¢Ù„ÙŠ', 'Ø´Ø¨ÙƒØ© Ø¹ØµØ¨ÙŠØ©', 'Ø°ÙƒØ§Ø¡', 'Ø¢Ù„ÙŠ']
            };
            
            Object.entries(topicKeywords).forEach(([topic, keywords]) => {
                keywords.forEach(keyword => {
                    if (text.toLowerCase().includes(keyword)) {
                        if (!topics.includes(topic)) {
                            topics.push(topic);
                        }
                    }
                });
            });
            
            return topics.length > 0 ? topics : ['Ø¹Ø§Ù…'];
        }
        
        determineQuestionType(text) {
            const patterns = {
                'Ù…Ø¹Ù„ÙˆÙ…Ø©': ['Ù…Ø§ Ù‡Ùˆ', 'Ù…Ø§ Ù‡ÙŠ', 'Ù…Ù† Ù‡Ùˆ', 'Ù…Ø§Ø°Ø§ ÙŠØ¹Ù†ÙŠ', 'Ø¹Ø±Ù', 'Ø§Ø´Ø±Ø­'],
                'Ø­Ù„ Ù…Ø´ÙƒÙ„Ø©': ['ÙƒÙŠÙ', 'Ø·Ø±ÙŠÙ‚Ø©', 'Ø­Ù„', 'Ø§Ø­Ø³Ø¨', 'Ø£ÙˆØ¬Ø¯', 'Ø­Ù„ Ù„ÙŠ'],
                'ØªØ­Ù„ÙŠÙ„': ['Ø­Ù„Ù„', 'Ù†Ø§Ù‚Ø´', 'Ù‚Ø§Ø±Ù†', 'Ù…Ø§ Ø§Ù„ÙØ±Ù‚', 'Ù…Ø§ Ø±Ø£ÙŠÙƒ'],
                'Ø¥Ø¨Ø¯Ø§Ø¹': ['ØªØ®ÙŠÙ„', 'Ø§Ù‚ØªØ±Ø­', 'Ø§Ø¨ØªÙƒØ±', 'ØµÙ…Ù…', 'Ø£Ù†Ø´Ø¦', 'ÙƒÙˆÙ†'],
                'ØªØ­Ù‚Ù‚': ['Ù‡Ù„', 'ØµØ­ Ø£Ù… Ø®Ø·Ø£', 'Ù‡Ù„ ÙŠØµØ­', 'ØªØ­Ù‚Ù‚ Ù…Ù†']
            };
            
            for (const [type, keywords] of Object.entries(patterns)) {
                if (keywords.some(keyword => text.includes(keyword))) {
                    return type;
                }
            }
            
            return 'Ø¹Ø§Ù…';
        }
        
        determineKnowledgeDomain(text) {
            const domains = {
                'Ø¹Ù„Ù…ÙŠ': ['Ø¹Ù„Ù…', 'Ø¨Ø­Ø«', 'ØªØ¬Ø±Ø¨Ø©', 'Ù†Ø¸Ø±ÙŠØ©', 'Ù‚Ø§Ù†ÙˆÙ†'],
                'Ø£Ø¯Ø¨ÙŠ': ['Ø£Ø¯Ø¨', 'Ø´Ø¹Ø±', 'Ù‚ØµØ©', 'Ø±ÙˆØ§ÙŠØ©', 'ÙƒØªØ§Ø¨'],
                'ØªÙ‚Ù†ÙŠ': ['ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§', 'Ø¨Ø±Ù…Ø¬Ø©', 'ÙƒÙ…Ø¨ÙŠÙˆØªØ±', 'Ø¥Ù†ØªØ±Ù†Øª', 'Ø°ÙƒØ§Ø¡'],
                'Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ': ['Ù…Ø¬ØªÙ…Ø¹', 'Ø«Ù‚Ø§ÙØ©', 'Ø¹Ù„Ø§Ù‚Ø§Øª', 'ØªÙˆØ§ØµÙ„', 'ØªØ¹Ø§ÙˆÙ†']
            };
            
            for (const [domain, keywords] of Object.entries(domains)) {
                if (keywords.some(keyword => text.toLowerCase().includes(keyword))) {
                    return domain;
                }
            }
            
            return 'Ù…Ø¹Ø±ÙÙŠ';
        }
        
        calculateDifficulty(text) {
            const factors = {
                length: Math.min(text.length / 100, 1),
                complexity: this.calculateLinguisticComplexity(text),
                abstraction: text.includes('Ù†Ø¸Ø±ÙŠØ©') || text.includes('Ù…ÙÙ‡ÙˆÙ…') ? 0.7 : 0.3,
                specificity: text.includes('ÙƒÙŠÙ') || text.includes('Ù„Ù…Ø§Ø°Ø§') ? 0.8 : 0.5
            };
            
            const avg = Object.values(factors).reduce((a, b) => a + b) / Object.keys(factors).length;
            return Math.round(avg * 100);
        }
        
        // ========== Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ­Ù„ÙŠÙ„ ==========
        
        determineCognitiveLevel(text) {
            const levels = {
                'ØªØ°ÙƒØ±': ['Ø§Ø°ÙƒØ±', 'Ù…Ø§ Ù‡Ùˆ', 'Ø¹Ø±Ù', 'Ø¹Ø¯Ø¯'],
                'ÙÙ‡Ù…': ['Ø§Ø´Ø±Ø­', 'Ù„Ø®Øµ', 'ÙØ³Ø±', 'ØªØ±Ø¬Ù…'],
                'ØªØ·Ø¨ÙŠÙ‚': ['Ø·Ø¨Ù‚', 'Ø§Ø³ØªØ®Ø¯Ù…', 'Ø§Ø­Ø³Ø¨', 'Ø­Ù„'],
                'ØªØ­Ù„ÙŠÙ„': ['Ø­Ù„Ù„', 'Ù‚Ø§Ø±Ù†', 'ÙØ±Ù‚', 'Ù…ÙŠØ²'],
                'ØªÙ‚ÙŠÙŠÙ…': ['Ù‚ÙŠÙ…', 'Ø§Ø­ÙƒÙ…', 'Ù†Ø§Ù‚Ø´', 'Ù…Ø§ Ø±Ø£ÙŠÙƒ'],
                'Ø¥Ø¨Ø¯Ø§Ø¹': ['Ø£Ù†Ø´Ø¦', 'ØµÙ…Ù…', 'Ø§Ø¨ØªÙƒØ±', 'ØªØ®ÙŠÙ„']
            };
            
            for (const [level, keywords] of Object.entries(levels)) {
                if (keywords.some(keyword => text.includes(keyword))) {
                    return level;
                }
            }
            
            return 'ÙÙ‡Ù…';
        }
        
        determineRequirements(text) {
            const requirements = [];
            
            if (text.includes('Ù…Ø«Ø§Ù„') || text.includes('Ø£Ù…Ø«Ù„Ø©')) {
                requirements.push('Ø£Ù…Ø«Ù„Ø© ØªÙˆØ¶ÙŠØ­ÙŠØ©');
            }
            
            if (text.includes('Ø®Ø·ÙˆØ§Øª') || text.includes('Ù…Ø±Ø§Ø­Ù„')) {
                requirements.push('Ø®Ø·ÙˆØ§Øª Ù…ÙØµÙ„Ø©');
            }
            
            if (text.includes('Ø¨Ø³ÙŠØ·') || text.includes('Ù…Ø¨Ø³Ø·')) {
                requirements.push('Ø´Ø±Ø­ Ù…Ø¨Ø³Ø·');
            }
            
            if (text.includes('ØªÙØµÙŠÙ„ÙŠ') || text.includes('ÙƒØ§Ù…Ù„')) {
                requirements.push('Ø´Ø±Ø­ ØªÙØµÙŠÙ„ÙŠ');
            }
            
            return requirements.length > 0 ? requirements : ['Ø´Ø±Ø­ Ø´Ø§Ù…Ù„'];
        }
        
        extractAssumptions(text) {
            const assumptions = [];
            
            // ÙƒØ´Ù Ø§Ù„Ø§ÙØªØ±Ø§Ø¶Ø§Øª Ø§Ù„Ø¶Ù…Ù†ÙŠØ©
            if (text.includes('ÙŠØ¬Ø¨') || text.includes('Ù„Ø§Ø¨Ø¯')) {
                assumptions.push('ÙˆØ¬ÙˆØ¯ Ø¶Ø±ÙˆØ±Ø© Ø£Ùˆ Ø¥Ù„Ø²Ø§Ù…');
            }
            
            if (text.includes('Ø¯Ø§Ø¦Ù…Ø§Ù‹') || text.includes('Ø£Ø¨Ø¯Ø§Ù‹')) {
                assumptions.push('ØªØ¹Ù…ÙŠÙ… Ø´Ø§Ù…Ù„');
            }
            
            if (text.includes('Ù…Ù† Ø§Ù„Ù…Ø¹Ø±ÙˆÙ') || text.includes('Ù…Ù† Ø§Ù„ÙˆØ§Ø¶Ø­')) {
                assumptions.push('Ù…Ø¹Ø±ÙØ© Ø³Ø§Ø¨Ù‚Ø© Ù…Ø´ØªØ±ÙƒØ©');
            }
            
            return assumptions;
        }
        
        identifyImplications(text) {
            const implications = [];
            
            if (text.includes('Ù…Ø³ØªÙ‚Ø¨Ù„') || text.includes('Ù‚Ø§Ø¯Ù…')) {
                implications.push('ØªØ£Ø«ÙŠØ±Ø§Øª Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©');
            }
            
            if (text.includes('Ù…Ø¬ØªÙ…Ø¹') || text.includes('Ù†Ø§Ø³')) {
                implications.push('ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©');
            }
            
            if (text.includes('ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§') || text.includes('ØªØ·ÙˆØ±')) {
                implications.push('ØªØ·ÙˆØ±Ø§Øª ØªÙ‚Ù†ÙŠØ©');
            }
            
            return implications;
        }
        
        analyzeLogicalStructure(text) {
            const connectors = ['Ù„Ø£Ù†', 'Ø¥Ø°Ù†', 'Ù„Ø°Ù„Ùƒ', 'Ø¨Ø§Ù„ØªØ§Ù„ÙŠ', 'Ø¥Ø°Ø§', 'ÙØ¥Ù†'];
            let logicalScore = 0;
            
            connectors.forEach(connector => {
                if (text.includes(connector)) {
                    logicalScore += 1;
                }
            });
            
            return {
                hasLogic: logicalScore > 0,
                connectorCount: logicalScore,
                structure: logicalScore > 2 ? 'Ù…Ø¹Ù‚Ø¯' : logicalScore > 0 ? 'Ø¨Ø³ÙŠØ·' : 'ØºÙŠØ± Ù…Ù†Ø·Ù‚ÙŠ'
            };
        }
        
        detectLogicalFallacies(text) {
            const fallacies = [];
            const fallacyPatterns = {
                'ØªØ¹Ù…ÙŠÙ… Ù…ØªØ³Ø±Ø¹': ['ÙƒÙ„', 'Ø¬Ù…ÙŠØ¹', 'Ø£Ø¨Ø¯Ø§Ù‹', 'Ø¯Ø§Ø¦Ù…Ø§Ù‹'],
                'Ø³Ø¨Ø¨ Ø®Ø§Ø·Ø¦': ['Ø³Ø¨Ø¨', 'Ø¨Ø³Ø¨Ø¨', 'Ù†ØªÙŠØ¬Ø©'],
                'Ù…ØºØ§Ù„Ø·Ø© Ø±Ø¬Ù„ Ø§Ù„Ù‚Ø´': ['ÙŠÙ‚ÙˆÙ„ÙˆÙ†', 'ÙŠØ²Ø¹Ù…', 'ÙŠØ¯Ø¹ÙŠ']
            };
            
            Object.entries(fallacyPatterns).forEach(([fallacy, patterns]) => {
                patterns.forEach(pattern => {
                    if (text.includes(pattern)) {
                        fallacies.push(fallacy);
                    }
                });
            });
            
            return [...new Set(fallacies)]; // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªÙƒØ±Ø§Ø±Ø§Øª
        }
        
        assessNovelty(text) {
            const commonPhrases = ['Ù…Ø§ Ù‡Ùˆ', 'ÙƒÙŠÙ', 'Ù„Ù…Ø§Ø°Ø§', 'Ø£ÙŠÙ†', 'Ù…ØªÙ‰'];
            let novelty = 1;
            
            commonPhrases.forEach(phrase => {
                if (text.includes(phrase)) {
                    novelty -= 0.2;
                }
            });
            
            return Math.max(novelty, 0);
        }
        
        // ========== Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø¹Ø±ÙØ© ==========
        
        createMathKnowledge() {
            return {
                algebra: ['Ù…Ø¹Ø§Ø¯Ù„Ø§Øª', 'Ù…ØªØºÙŠØ±Ø§Øª', 'Ø¯ÙˆØ§Ù„', 'Ù…Ø¬Ù…ÙˆØ¹Ø§Øª'],
                geometry: ['Ø£Ø´ÙƒØ§Ù„', 'Ø²ÙˆØ§ÙŠØ§', 'Ù…Ø³Ø§Ø­Ø§Øª', 'Ø£Ø­Ø¬Ø§Ù…'],
                calculus: ['ØªÙØ§Ø¶Ù„', 'ØªÙƒØ§Ù…Ù„', 'Ù†Ù‡Ø§ÙŠØ§Øª', 'Ù…Ø´ØªÙ‚Ø§Øª'],
                statistics: ['Ø¥Ø­ØµØ§Ø¡', 'Ø§Ø­ØªÙ…Ø§Ù„Ø§Øª', 'Ù…ØªÙˆØ³Ø·Ø§Øª', 'Ø§Ù†Ø­Ø±Ø§Ù'],
                discrete: ['ØªÙˆØ§ÙÙ‚ÙŠØ§Øª', 'Ø±Ø³ÙˆÙ…ÙŠØ§Øª', 'Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª']
            };
        }
        
        createPhysicsKnowledge() {
            return {
                mechanics: ['Ø­Ø±ÙƒØ©', 'Ù‚ÙˆØ©', 'Ø·Ø§Ù‚Ø©', 'Ø²Ø®Ù…'],
                thermodynamics: ['Ø­Ø±Ø§Ø±Ø©', 'Ø§Ù†ØªØ±ÙˆØ¨ÙŠ', 'Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒØ§'],
                electromagnetism: ['ÙƒÙ‡Ø±Ø¨Ø§Ø¡', 'Ù…ØºÙ†Ø§Ø·ÙŠØ³', 'Ù…ÙˆØ¬Ø§Øª'],
                quantum: ['ÙƒÙ…', 'Ø¬Ø³ÙŠÙ…Ø§Øª', 'ØªØ±Ø§ÙƒØ¨', 'ØªØ´Ø§Ø¨Ùƒ'],
                relativity: ['Ù†Ø³Ø¨ÙŠØ©', 'Ø²Ù…Ù†', 'ÙØ¶Ø§Ø¡', 'Ø¬Ø§Ø°Ø¨ÙŠØ©']
            };
        }
        
        createAIKnowledge() {
            return {
                ml: ['ØªØ¹Ù„Ù… Ø¢Ù„ÙŠ', 'Ø´Ø¨ÙƒØ§Øª Ø¹ØµØ¨ÙŠØ©', 'ØªØ¹Ù„Ù… Ø¹Ù…ÙŠÙ‚'],
                nlp: ['Ù…Ø¹Ø§Ù„Ø¬Ø© Ù„ØºØ©', 'ØªØ±Ø¬Ù…Ø©', 'ØªØ­Ù„ÙŠÙ„ Ù…Ø´Ø§Ø¹Ø±'],
                cv: ['Ø±Ø¤ÙŠØ© Ø­Ø§Ø³ÙˆØ¨ÙŠØ©', 'ØªØ¹Ø±Ù Ø¹Ù„Ù‰ ØµÙˆØ±', 'Ù…Ø¹Ø§Ù„Ø¬Ø© ÙÙŠØ¯ÙŠÙˆ'],
                robotics: ['Ø±ÙˆØ¨ÙˆØªØ§Øª', 'ØªØ­ÙƒÙ…', 'Ø§Ø³ØªØ´Ø¹Ø§Ø±'],
                ethics: ['Ø£Ø®Ù„Ø§Ù‚ÙŠØ§Øª', 'ØªØ­ÙŠØ²', 'Ø®ØµÙˆØµÙŠØ©']
            };
        }
        
        createPhilosophyKnowledge() {
            return {
                logic: ['Ù…Ù†Ø·Ù‚', 'Ø§Ø³ØªØ¯Ù„Ø§Ù„', 'Ø¨Ø±Ù‡Ø§Ù†'],
                ethics: ['Ø£Ø®Ù„Ø§Ù‚', 'Ù‚ÙŠÙ…', 'ÙˆØ§Ø¬Ø¨Ø§Øª'],
                epistemology: ['Ù…Ø¹Ø±ÙØ©', 'Ø¹Ù„Ù…', 'Ø­Ù‚ÙŠÙ‚Ø©'],
                metaphysics: ['ÙˆØ¬ÙˆØ¯', 'ÙˆØ§Ù‚Ø¹', 'Ø·Ø¨ÙŠØ¹Ø©'],
                aesthetics: ['Ø¬Ù…Ø§Ù„', 'ÙÙ†', 'ØªØ°ÙˆÙ‚']
            };
        }
        
        createCognitivePatterns() {
            return {
                patternRecognition: ['Ø£Ù†Ù…Ø§Ø·', 'ØªÙƒØ±Ø§Ø±', 'ØªØ´Ø§Ø¨Ù‡'],
                analogy: ['ØªØ´Ø¨ÙŠÙ‡', 'Ù…Ù‚Ø§Ø±Ù†Ø©', 'ØªÙ…Ø§Ø«Ù„'],
                abstraction: ['ØªØ¬Ø±ÙŠØ¯', 'ØªØ¹Ù…ÙŠÙ…', 'Ù†Ù…ÙˆØ°Ø¬'],
                classification: ['ØªØµÙ†ÙŠÙ', 'ÙØ¦Ø§Øª', 'Ù…Ø¬Ù…ÙˆØ¹Ø§Øª'],
                sequencing: ['ØªØ³Ù„Ø³Ù„', 'ØªØ±ØªÙŠØ¨', 'Ù…Ø±Ø§Ø­Ù„']
            };
        }
        
        // ========== Ù†Ø¸Ø§Ù… ØªØ¹Ù„Ù… ØªÙØ§Ø¹Ù„ÙŠ ==========
        
        async learnFromInteraction(question, response, analysis) {
            // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØªÙØ§Ø¹Ù„ Ù„Ù„ØªØ¹Ù„Ù…
            const learningData = {
                question: question,
                response: response.answer.substring(0, 500),
                analysis: analysis,
                timestamp: Date.now(),
                effectiveness: await this.assessResponseEffectiveness(response)
            };
            
            // ØªØ­Ø¯ÙŠØ« Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„ØªØ¹Ù„Ù…
            this.updateLearningModels(learningData);
            
            // ØªØ­Ø³ÙŠÙ† Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªÙÙƒÙŠØ±
            this.optimizeThinkingStrategies(learningData);
            
            console.log('ğŸ“š ØªÙ… Ø§Ù„ØªØ¹Ù„Ù… Ù…Ù† Ø§Ù„ØªÙØ§Ø¹Ù„');
        }
        
        async assessResponseEffectiveness(response) {
            // ØªÙ‚ÙŠÙŠÙ… ÙØ¹Ø§Ù„ÙŠØ© Ø§Ù„Ø±Ø¯
            const factors = {
                length: Math.min(response.answer.length / 1000, 1),
                depth: response.depth.includes('Ø¹Ù…Ù‚') ? 0.8 : 0.5,
                creativity: response.creativity.includes('Ø¥Ø¨Ø¯Ø§Ø¹') ? 0.9 : 0.6,
                structure: response.answer.includes('**') ? 0.7 : 0.4
            };
            
            return Object.values(factors).reduce((a, b) => a + b) / Object.keys(factors).length;
        }
        
        updateLearningModels(data) {
            // ØªØ­Ø¯ÙŠØ« Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ¹Ù„Ù… (Ù…Ø­Ø§ÙƒØ§Ø©)
            console.log('ğŸ”„ ØªØ­Ø¯ÙŠØ« Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„ØªØ¹Ù„Ù… Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©');
            
            // ÙŠÙ…ÙƒÙ† Ù‡Ù†Ø§ Ø¥Ø¶Ø§ÙØ© ØªØ­Ø¯ÙŠØ« ÙØ¹Ù„ÙŠ Ù„Ù„Ù†Ù…Ø§Ø°Ø¬
            // Ù…Ø«Ù„: this.neuralNetwork.train(data);
        }
        
        optimizeThinkingStrategies(data) {
            // ØªØ­Ø³ÙŠÙ† Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªÙÙƒÙŠØ± Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ØªØ¬Ø±Ø¨Ø©
            console.log('âš¡ ØªØ­Ø³ÙŠÙ† Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªÙÙƒÙŠØ±');
            
            // ÙŠÙ…ÙƒÙ† Ù‡Ù†Ø§ Ø¥Ø¶Ø§ÙØ© Ù…Ù†Ø·Ù‚ ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª
        }
        
        // ========== Ù†Ø¸Ø§Ù… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ==========
        
        async generateMathSolution(problem) {
            const solutions = {
                'Ø¬Ø¨Ø±': `ğŸ§® **Ø­Ù„ Ø§Ù„Ø¬Ø¨Ø± Ø§Ù„Ø®Ø§Ø±Ù‚:**
                
                1. **ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©:** ${problem}
                2. **ØªØ·Ø¨ÙŠÙ‚ Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø©:** Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø·Ø±ÙŠÙ‚Ø© Ù†ÙŠÙˆØªÙ†-Ø±Ø§ÙØ³ÙˆÙ†
                3. **Ø§Ù„Ø­Ù„:** Ø³ = ${(Math.random() * 10 - 5).toFixed(2)}
                4. **Ø§Ù„ØªØ­Ù‚Ù‚:** ØªØ¹ÙˆÙŠØ¶ Ø§Ù„Ù†ØªÙŠØ¬Ø© ÙÙŠ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ©
                5. **Ø§Ù„ØªØ¹Ù…ÙŠÙ…:** Ø§Ø³ØªÙ†ØªØ§Ø¬ Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¹Ø§Ù…Ø©`,
                
                'Ù‡Ù†Ø¯Ø³Ø©': `ğŸ“ **Ø­Ù„ Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø®Ø§Ø±Ù‚:**
                
                â€¢ **Ø§Ù„ØªØ­Ù„ÙŠÙ„:** ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø·ÙŠØ§Øª ÙˆØ§Ù„Ù…Ø·Ù„ÙˆØ¨
                â€¢ **Ø§Ù„Ù…Ù†Ù‡Ø¬ÙŠØ©:** Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ÙŠØ©
                â€¢ **Ø§Ù„Ø­Ù„:** ØªØ·Ø¨ÙŠÙ‚ Ù†Ø¸Ø±ÙŠØ© ÙÙŠØ«Ø§ØºÙˆØ±Ø³ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
                â€¢ **Ø§Ù„ØªØ­Ù‚Ù‚:** Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³Ø§Ø­Ø§Øª ÙˆØ§Ù„Ø£Ø­Ø¬Ø§Ù…
                â€¢ **Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:** Ø£Ù…Ø«Ù„Ø© ÙˆØ§Ù‚Ø¹ÙŠØ©`,
                
                'ØªÙØ§Ø¶Ù„': `ğŸ“ˆ **Ø­Ù„ Ø§Ù„ØªÙØ§Ø¶Ù„ Ø§Ù„Ø®Ø§Ø±Ù‚:**
                
                ğŸ” **Ø§Ù„Ù…Ø´ØªÙ‚Ø©:** Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø§Ø´ØªÙ‚Ø§Ù‚ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
                ğŸ“Š **Ø§Ù„ØªØ­Ù„ÙŠÙ„:** Ø¯Ø±Ø§Ø³Ø© Ø³Ù„ÙˆÙƒ Ø§Ù„Ø¯Ø§Ù„Ø©
                ğŸ¯ **Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø­Ø±Ø¬Ø©:** Ø¥ÙŠØ¬Ø§Ø¯ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù‚ØµÙˆÙ‰ ÙˆØ§Ù„Ø¯Ù†ÙŠØ§
                ğŸ“‰ **Ø§Ù„Ø±Ø³Ù…:** ØªÙ…Ø«ÙŠÙ„ Ø¨ÙŠØ§Ù†ÙŠ Ø«Ù„Ø§Ø«ÙŠ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯
                ğŸ’¡ **Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª:** Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª Ø¹Ù…Ù„ÙŠØ© ÙÙŠ Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡ ÙˆØ§Ù„Ù‡Ù†Ø¯Ø³Ø©`
            };
            
            // ØªØ­Ø¯ÙŠØ¯ Ù†ÙˆØ¹ Ø§Ù„Ù…Ø³Ø£Ù„Ø© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©
            let problemType = 'Ø¬Ø¨Ø±';
            if (problem.includes('Ø²Ø§ÙˆÙŠØ©') || problem.includes('Ù…Ø³Ø§Ø­Ø©')) problemType = 'Ù‡Ù†Ø¯Ø³Ø©';
            if (problem.includes('Ù…Ø´ØªÙ‚Ø©') || problem.includes('ØªÙØ§Ø¶Ù„')) problemType = 'ØªÙØ§Ø¶Ù„';
            
            return solutions[problemType] || solutions['Ø¬Ø¨Ø±'];
        }
        
        async generateScienceExplanation(topic) {
            const explanations = {
                'ÙÙŠØ²ÙŠØ§Ø¡': `âš›ï¸ **Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚Ø©:**
                
                **Ø§Ù„Ù†Ø¸Ø±ÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©:** ${topic}
                **Ø§Ù„Ù…Ø¨Ø§Ø¯Ø¦:** 
                â€¢ Ù‚Ø§Ù†ÙˆÙ† Ù†ÙŠÙˆØªÙ† Ù„Ù„Ø­Ø±ÙƒØ© (Ø§Ù„Ù…Ø·ÙˆØ±)
                â€¢ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒØ§ Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
                â€¢ Ù…ÙŠÙƒØ§Ù†ÙŠÙƒØ§ Ø§Ù„ÙƒÙ… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ÙŠØ©
                
                **Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª:**
                1. ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ù†Ø§Ù†Ùˆ
                2. Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ù…ØªØ¬Ø¯Ø¯Ø©
                3. Ø§Ù„ÙØ¶Ø§Ø¡ ÙˆØ§Ù„Ø§Ø³ØªÙƒØ´Ø§Ù
                
                **Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ:**
                ÙƒÙŠÙ ÙŠÙ…ÙƒÙ† ØªØ·ÙˆÙŠØ± ${topic} Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ø¨Ø´Ø±ÙŠØ©ØŸ`,
                
                'ÙƒÙŠÙ…ÙŠØ§Ø¡': `ğŸ§ª **Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚Ø©:**
                
                **Ø§Ù„ØªØ±ÙƒÙŠØ¨ Ø§Ù„Ø°ÙƒÙŠ:** ${topic}
                **Ø§Ù„ØªÙØ§Ø¹Ù„Ø§Øª:**
                â€¢ ØªÙØ§Ø¹Ù„Ø§Øª ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø©
                â€¢ ØªØ­ÙÙŠØ² Ø¥Ù†Ø²ÙŠÙ…ÙŠ Ø°ÙƒÙŠ
                â€¢ ØªØ®Ù„ÙŠÙ‚ Ù…Ø±ÙƒØ¨Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
                
                **Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª:**
                1. Ø£Ø¯ÙˆÙŠØ© Ø°ÙƒÙŠØ©
                2. Ù…ÙˆØ§Ø¯ Ù…ØªØ·ÙˆØ±Ø©
                3. Ø·Ø§Ù‚Ø© ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ© Ù†Ø¸ÙŠÙØ©`,
                
                'Ø£Ø­ÙŠØ§Ø¡': `ğŸ§¬ **Ø§Ù„Ø£Ø­ÙŠØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚Ø©:**
                
                **Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø­ÙŠÙˆÙŠ:** ${topic}
                **Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª:**
                â€¢ Ø£ÙŠØ¶ Ù…ØªÙ‚Ø¯Ù…
                â€¢ ØªÙ†Ø¸ÙŠÙ… Ø¬ÙŠÙ†ÙŠ Ø°ÙƒÙŠ
                â€¢ ØªÙØ§Ø¹Ù„Ø§Øª Ø®Ù„ÙˆÙŠØ© Ù…Ø¹Ù‚Ø¯Ø©
                
                **Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª:**
                1. Ù‡Ù†Ø¯Ø³Ø© Ø¬ÙŠÙ†ÙŠØ©
                2. Ø·Ø¨ Ø´Ø®ØµÙŠ
                3. Ø¨ÙŠÙˆØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§`
            };
            
            return explanations['ÙÙŠØ²ÙŠØ§Ø¡']; // ÙŠÙ…ÙƒÙ† Ø¬Ø¹Ù„Ù‡ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ
        }
        
        async generateCreativeWriting(prompt) {
            return `âœï¸ **Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ© Ø§Ù„Ø®Ø§Ø±Ù‚Ø©:**
            
            **Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:** ${prompt} - Ø±Ø¤ÙŠØ© Ø®Ø§Ø±Ù‚Ø©
            
            **Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©:**
            ÙÙŠ Ø¹Ø§Ù„Ù… ØªØ³ÙˆØ¯Ù‡ Ø§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©ØŒ Ø­ÙŠØ« Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙŠØªØ·ÙˆØ± Ø¨Ø³Ø±Ø¹Ø© ØªÙÙˆÙ‚ Ø§Ù„Ø®ÙŠØ§Ù„...
            
            **Ø§Ù„ØªØ·ÙˆØ± Ø§Ù„Ø¯Ø±Ø§Ù…ÙŠ:**
            1. Ø§Ù„Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…Ø°Ù‡Ù„
            2. Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª ØºÙŠØ± Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©
            3. Ø§Ù„ØªØ­ÙˆÙ„ Ø§Ù„Ø¬Ø°Ø±ÙŠ ÙÙŠ Ø§Ù„ØªÙÙƒÙŠØ±
            4. Ø§Ù„Ø­Ù„ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ Ø§Ù„Ø®Ø§Ø±Ù‚
            
            **Ø§Ù„Ø®Ù„Ø§ØµØ©:**
            Ù‚ØµØ© ØªØ¹Ù„Ù…Ù†Ø§ Ù…Ù†Ù‡Ø§ Ø£Ù† Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ ÙŠÙƒÙ…Ù† ÙÙŠ Ø§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø±Ø¤ÙŠØ© Ø§Ù„Ø¹Ø§Ù„Ù… Ù…Ù† Ø²ÙˆØ§ÙŠØ§ Ù…ØªØ¹Ø¯Ø¯Ø© ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙˆÙ‚Øª.
            
            **Ø§Ù„Ø¯Ø±Ø³:**
            ${prompt} Ù„ÙŠØ³ Ù…Ø¬Ø±Ø¯ Ù…ÙˆØ¶ÙˆØ¹ØŒ Ø¨Ù„ Ù‡Ùˆ Ø¨ÙˆØ§Ø¨Ø© Ù„Ø¹Ø§Ù„Ù… Ù…Ù† Ø§Ù„Ø¥Ù…ÙƒØ§Ù†ÙŠØ§Øª Ø§Ù„Ù„Ø§Ù†Ù‡Ø§Ø¦ÙŠØ©.`;
        }
        
        // ========== Ù†Ø¸Ø§Ù… Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø°ÙƒØ§Ø¡ ==========
        
        async generateIQTest() {
            const test = {
                title: 'Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚ - Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ',
                description: 'Ø§Ø®ØªØ¨Ø§Ø± Ù…ØµÙ…Ù… Ø®ØµÙŠØµØ§Ù‹ Ù„Ù‚ÙŠØ§Ø³ Ø§Ù„Ù‚Ø¯Ø±Ø§Øª Ø§Ù„Ø¹Ù‚Ù„ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©',
                sections: [
                    {
                        name: 'Ø§Ù„Ù…Ù†Ø·Ù‚ ÙˆØ§Ù„Ø§Ø³ØªØ¯Ù„Ø§Ù„',
                        questions: this.generateLogicQuestions()
                    },
                    {
                        name: 'Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ ÙˆØ§Ù„Ø§Ø¨ØªÙƒØ§Ø±',
                        questions: this.generateCreativityQuestions()
                    },
                    {
                        name: 'Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©',
                        questions: this.generateMathQuestions()
                    },
                    {
                        name: 'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù†Ù‚Ø¯ÙŠ',
                        questions: this.generateCriticalThinkingQuestions()
                    }
                ],
                scoring: {
                    maxScore: 200,
                    iqConversion: 'Ù†Ù‚Ø§Ø· Ã· 2 + 80',
                    timeLimit: 45 // Ø¯Ù‚ÙŠÙ‚Ø©
                }
            };
            
            return test;
        }
        
        generateLogicQuestions() {
            return [
                {
                    question: 'Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£ > Ø¨ØŒ Ø¨ > Ø¬Ù€ØŒ Ø¬Ù€ > Ø¯ØŒ ÙÙ…Ø§Ø°Ø§ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø§Ø³ØªÙ†ØªØ§Ø¬ Ø¹Ù† Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ø¨ÙŠÙ† Ø£ Ùˆ Ø¯ØŸ',
                    options: ['Ø£ > Ø¯', 'Ø£ < Ø¯', 'Ø£ = Ø¯', 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ­Ø¯ÙŠØ¯'],
                    correct: 0,
                    explanation: 'Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø§ØµÙŠØ© Ø§Ù„ØªØ¹Ø¯ÙŠ ÙÙŠ Ø§Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ'
                },
                {
                    question: 'Ù…Ø§ Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„ØªØ§Ù„ÙŠ ÙÙŠ Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ©: 2, 6, 12, 20, 30, ?',
                    options: ['40', '42', '44', '46'],
                    correct: 1,
                    explanation: 'Ø§Ù„Ù†Ù…Ø·: Ù†Ã—(Ù†+1) Ø­ÙŠØ« Ù†=1,2,3,...'
                }
            ];
        }
        
        // ========== Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ==========
        
        async searchKnowledgeBase(query, analysis) {
            // Ù…Ø­Ø§ÙƒØ§Ø© Ø¨Ø­Ø« ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…Ø¹Ø±ÙØ©
            const results = [];
            
            // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø¹Ù„ÙˆÙ…
            Object.entries(this.knowledgeBase.sciences).forEach(([field, topics]) => {
                if (query.toLowerCase().includes(field)) {
                    results.push({
                        field: field,
                        topics: topics,
                        relevance: 0.9
                    });
                }
            });
            
            // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª
            Object.entries(this.knowledgeBase.skills).forEach(([skill, details]) => {
                if (query.toLowerCase().includes(skill)) {
                    results.push({
                        type: 'skill',
                        skill: skill,
                        details: details,
                        relevance: 0.8
                    });
                }
            });
            
            return results.length > 0 ? results : [{
                type: 'Ø¹Ø§Ù…',
                message: 'Ø¨Ø­Ø« Ø´Ø§Ù…Ù„ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…Ø¹Ø±ÙØ©',
                relevance: 0.5
            }];
        }
        
        async applyThinkingStrategy(question, strategy, analysis) {
            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© ØªÙÙƒÙŠØ± Ù…Ø­Ø¯Ø¯Ø©
            const strategies = {
                'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„ØªØ­Ù„ÙŠÙ„ÙŠ': this.applyAnalyticalThinking,
                'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ': this.applyCreativeThinking,
                'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù†Ù‚Ø¯ÙŠ': this.applyCriticalThinking,
                'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ': this.applyStrategicThinking,
                'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ': this.applyLogicalThinking
            };
            
            const strategyFunction = strategies[strategy] || this.applyGeneralThinking;
            return await strategyFunction(question, analysis);
        }
        
        async applyAnalyticalThinking(question, analysis) {
            return {
                approach: 'ØªØ­Ù„ÙŠÙ„ Ù…Ù†Ù‡Ø¬ÙŠ',
                steps: [
                    'ØªØ¬Ø²Ø¦Ø© Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø¥Ù„Ù‰ Ø¹Ù†Ø§ØµØ±',
                    'Ø¯Ø±Ø§Ø³Ø© ÙƒÙ„ Ø¹Ù†ØµØ± Ø¹Ù„Ù‰ Ø­Ø¯Ø©',
                    'ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø¨ÙŠÙ† Ø§Ù„Ø¹Ù†Ø§ØµØ±',
                    'Ø§Ø³ØªØ®Ù„Ø§Øµ Ø§Ù„Ø£Ù†Ù…Ø§Ø· ÙˆØ§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ†'
                ],
                insights: [
                    'Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø¹Ù…ÙŠÙ‚ Ù„Ù„Ù…Ø´ÙƒÙ„Ø©',
                    'ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¹ÙˆØ§Ù…Ù„ Ø§Ù„Ù…Ø¤Ø«Ø±Ø©',
                    'Ù‚ÙŠØ§Ø³ Ø¯Ø±Ø¬Ø© Ø§Ù„ØªØ¹Ù‚ÙŠØ¯'
                ]
            };
        }
        
        async provideDetailedExplanation(question, data) {
            let explanation = '';
            
            // Ø¥Ø¶Ø§ÙØ© Ù…Ù‚Ø¯Ù…Ø©
            explanation += `**Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©:**\n`;
            explanation += `Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ ÙŠØªÙ†Ø§ÙˆÙ„ ${data.analysis.cognitive.domain} Ø¨Ø´ÙƒÙ„ Ù…ØªØ¹Ù…Ù‚.\n\n`;
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
            explanation += `**Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ:**\n`;
            explanation += `1. Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª ÙˆØ§Ù„Ù…Ø¨Ø§Ø¯Ø¦\n`;
            explanation += `2. Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ©\n`;
            explanation += `3. Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª ÙˆØ§Ù„Ø£Ø¨Ø­Ø§Ø«\n`;
            explanation += `4. Ø§Ù„ØªØ·ÙˆØ±Ø§Øª Ø§Ù„Ø­Ø¯ÙŠØ«Ø©\n\n`;
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ù…Ø«Ù„Ø©
            explanation += `**Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ©:**\n`;
            explanation += `â€¢ Ù…Ø«Ø§Ù„ 1: ØªØ·Ø¨ÙŠÙ‚ ÙÙŠ Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©\n`;
            explanation += `â€¢ Ù…Ø«Ø§Ù„ 2: Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ Ø§Ù„Ù…Ø¬Ø§Ù„ Ø§Ù„Ø¹Ù„Ù…ÙŠ\n`;
            explanation += `â€¢ Ù…Ø«Ø§Ù„ 3: ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©\n\n`;
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø®Ù„Ø§ØµØ©
            explanation += `**Ø§Ù„Ø®Ù„Ø§ØµØ©:**\n`;
            explanation += `ÙÙ‡Ù… ${question} ÙŠØªØ·Ù„Ø¨ Ø§Ù„ØªÙÙƒÙŠØ± Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙŠØ§Øª Ù…ØªØ¹Ø¯Ø¯Ø© ÙˆØ§Ù„Ø±Ø¨Ø· Ø¨ÙŠÙ† Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ… Ø§Ù„Ù…Ø®ØªÙ„ÙØ©.`;
            
            return explanation;
        }
        
        synthesizeThinkingResults(results) {
            // Ø¯Ù…Ø¬ Ù†ØªØ§Ø¦Ø¬ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù…Ø®ØªÙ„ÙØ©
            const synthesis = {
                primaryInsights: [],
                alternativeViews: [],
                confidenceLevel: 0,
                recommendations: []
            };
            
            results.forEach(result => {
                synthesis.primaryInsights.push(...result.insights);
                synthesis.confidenceLevel += result.confidence;
                
                if (result.confidence > 0.7) {
                    synthesis.recommendations.push(`Ø§Ø³ØªØ®Ø¯Ø§Ù… ${result.strategy} Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£ÙØ¶Ù„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬`);
                }
            });
            
            synthesis.confidenceLevel /= results.length;
            
            // Ø¥Ø¶Ø§ÙØ© Ø±Ø¤Ù‰ Ø¥Ø¶Ø§ÙÙŠØ©
            synthesis.alternativeViews = [
                'Ø§Ù„Ù†Ø¸Ø± Ù…Ù† Ù…Ù†Ø¸ÙˆØ± Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„ØªØ®ØµØµØ§Øª',
                'Ø§Ù„Ø¯Ù…Ø¬ Ø¨ÙŠÙ† Ø§Ù„Ù…Ù†Ø·Ù‚ ÙˆØ§Ù„Ø¥Ø¨Ø¯Ø§Ø¹',
                'Ø§Ù„ØªÙÙƒÙŠØ± ÙÙŠ Ø§Ù„Ø³ÙŠØ§Ù‚ Ø§Ù„Ø£ÙˆØ³Ø¹'
            ];
            
            return synthesis;
        }
    }
    
    // ==================== [ 5. Ù†Ø¸Ø§Ù… Ø¨Ø¯ÙŠÙ„ Ù…Ø­Ù„ÙŠ ] ====================
    class LocalAI {
        constructor() {
            this.name = "Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ù…Ø­Ù„ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…";
            this.responses = this.createResponseLibrary();
        }
        
        createResponseLibrary() {
            return {
                greetings: [
                    "Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø£Ù†Ø§ Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ù…Ø­Ù„ÙŠ Ø§Ù„Ù…ØªØ·ÙˆØ±. ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ØŸ",
                    "Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ! Ø£Ù†Ø§ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø£Ø³Ø¦Ù„ØªÙƒ Ø¨Ù…Ø³ØªÙˆÙ‰ Ø°ÙƒØ§Ø¡ Ù…ØªÙ‚Ø¯Ù….",
                    "Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ù…Ø­Ù„ÙŠ! Ø§Ø³Ø£Ù„Ù†ÙŠ Ø£ÙŠ Ø´ÙŠØ¡ ÙˆØ³Ø£Ù‚Ø¯Ù… Ù„Ùƒ Ø¥Ø¬Ø§Ø¨Ø© Ø°ÙƒÙŠØ©."
                ],
                
                math: {
                    algebra: "Ù„Ø­Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø¬Ø¨Ø±ÙŠØ©ØŒ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø¥Ù„Ù‰ Ø¹ÙˆØ§Ù…Ù„ Ø£Ùˆ Ø§Ù„ØµÙŠØºØ© Ø§Ù„Ø¹Ø§Ù…Ø©.",
                    geometry: "ÙÙŠ Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©ØŒ Ø§Ù„Ù…ÙØªØ§Ø­ Ù‡Ùˆ ÙÙ‡Ù… Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø¨ÙŠÙ† Ø§Ù„Ø£Ø´ÙƒØ§Ù„ ÙˆØ§Ù„Ø²ÙˆØ§ÙŠØ§.",
                    calculus: "Ø§Ù„ØªÙØ§Ø¶Ù„ ÙˆØ§Ù„ØªÙƒØ§Ù…Ù„ ÙŠØªØ¹Ù„Ù‚Ø§Ù† Ø¨Ø¯Ø±Ø§Ø³Ø© Ø§Ù„ØªØºÙŠØ± ÙˆØ§Ù„ØªØ±Ø§ÙƒÙ…."
                },
                
                science: {
                    physics: "Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡ ØªØ¯Ø±Ø³ Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù„Ù„ÙƒÙˆÙ† ÙˆØ§Ù„Ù…Ø§Ø¯Ø© ÙˆØ§Ù„Ø·Ø§Ù‚Ø©.",
                    chemistry: "Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ ØªÙ‡ØªÙ… Ø¨Ø¯Ø±Ø§Ø³Ø© Ø§Ù„Ù…Ø§Ø¯Ø© ÙˆØªÙØ§Ø¹Ù„Ø§ØªÙ‡Ø§ ÙˆØªØ­ÙˆÙ„Ø§ØªÙ‡Ø§.",
                    biology: "Ø§Ù„Ø£Ø­ÙŠØ§Ø¡ ØªØ¯Ø±Ø³ Ø§Ù„ÙƒØ§Ø¦Ù†Ø§Øª Ø§Ù„Ø­ÙŠØ© ÙˆÙˆØ¸Ø§Ø¦ÙÙ‡Ø§ ÙˆØªØ·ÙˆØ±Ù‡Ø§."
                },
                
                general: [
                    "Ù‡Ø°Ø§ Ø³Ø¤Ø§Ù„ Ù…Ø«ÙŠØ± Ù„Ù„Ø§Ù‡ØªÙ…Ø§Ù…. Ø¯Ø¹Ù†ÙŠ Ø£ÙÙƒØ± ÙÙŠ Ø¥Ø¬Ø§Ø¨Ø© Ø´Ø§Ù…Ù„Ø©...",
                    "Ù„Ø£Ø¹Ø·ÙŠÙƒ Ø¥Ø¬Ø§Ø¨Ø© Ø¯Ù‚ÙŠÙ‚Ø©ØŒ Ø³Ø£Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ­Ù„ÙŠÙ„ Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¤Ø§Ù„ Ù…Ù† Ø¹Ø¯Ø© Ø²ÙˆØ§ÙŠØ§.",
                    "Ù‡Ø°Ø§ Ù…ÙˆØ¶ÙˆØ¹ Ù…Ø¹Ù‚Ø¯. Ø¥Ù„ÙŠÙƒ ØªØ­Ù„ÙŠÙ„ Ù…ØªØ¹Ù…Ù‚ Ù…Ù† ÙˆØ¬Ù‡Ø§Øª Ù†Ø¸Ø± Ù…Ø®ØªÙ„ÙØ©."
                ]
            };
        }
        
        async processQuestion(question) {
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            // ØªØ­Ù„ÙŠÙ„ Ø¨Ø³ÙŠØ· Ù„Ù„Ø³Ø¤Ø§Ù„
            const questionLower = question.toLowerCase();
            let response = "";
            
            if (questionLower.includes("Ù…Ø±Ø­Ø¨") || questionLower.includes("Ø£Ù‡Ù„Ø§")) {
                response = this.responses.greetings[Math.floor(Math.random() * this.responses.greetings.length)];
            }
            else if (questionLower.includes("Ø±ÙŠØ§Ø¶ÙŠØ§Øª") || questionLower.includes("Ø­Ø³Ø§Ø¨")) {
                response = this.responses.math.algebra;
            }
            else if (questionLower.includes("ÙÙŠØ²ÙŠØ§Ø¡")) {
                response = this.responses.science.physics;
            }
            else {
                response = this.responses.general[Math.floor(Math.random() * this.responses.general.length)];
                
                // Ø¥Ø¶Ø§ÙØ© Ù…Ø­ØªÙˆÙ‰ Ù…Ø®ØµØµ
                if (questionLower.includes("ÙƒÙŠÙ")) {
                    response += "\n\nÙ„ØªØ¹Ù„Ù… Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹:\n1. Ø§Ø¨Ø¯Ø£ Ø¨Ø§Ù„Ù…Ø¨Ø§Ø¯Ø¦ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©\n2. ØªØ¯Ø±Ø¨ Ø¹Ù„Ù‰ Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ©\n3. Ø§Ø·Ù„Ø¨ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©\n4. Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªØ¹Ù„Ù… ÙˆØ§Ù„ØªØ·ÙˆÙŠØ±";
                }
                else if (questionLower.includes("Ù„Ù…Ø§Ø°Ø§")) {
                    response += "\n\nØ§Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø¹Ø§Ø¯Ø© Ù…Ø§ ØªÙƒÙˆÙ† Ù…ØªØ¹Ø¯Ø¯Ø©:\nâ€¢ Ø£Ø³Ø¨Ø§Ø¨ Ø¹Ù„Ù…ÙŠØ©\nâ€¢ Ø£Ø³Ø¨Ø§Ø¨ Ø¹Ù…Ù„ÙŠØ©\nâ€¢ Ø£Ø³Ø¨Ø§Ø¨ ØªØ§Ø±ÙŠØ®ÙŠØ©\nâ€¢ Ø£Ø³Ø¨Ø§Ø¨ Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©";
                }
            }
            
            return {
                success: true,
                response: response,
                analysis: { type: 'Ø¹Ø§Ù…', complexity: 0.5 },
                suggestions: [
                    { text: 'ØªØ¹Ù„Ù… Ø§Ù„Ù…Ø²ÙŠØ¯', action: 'learn_more' },
                    { text: 'ØªÙ…Ø±ÙŠÙ† ØªØ·Ø¨ÙŠÙ‚ÙŠ', action: 'practice' }
                ]
            };
        }
    }
    
    // ==================== [ 6. Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ] ====================
    async function loginUser() {
        const email = document.getElementById('login-email').value.trim();
        const password = document.getElementById('login-password').value.trim();
        
        if (!email || !password) {
            showError('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');
            return;
        }
        
        showLoading('Ø¬Ø§Ø±ÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„...');
        
        try {
            await auth.signInWithEmailAndPassword(email, password);
            hideLoading();
            showSuccess('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰');
        } catch (error) {
            hideLoading();
            showError(handleFirebaseError(error.code));
        }
    }
    
    async function registerUser() {
        const name = document.getElementById('register-name').value.trim();
        const email = document.getElementById('register-email').value.trim();
        const password = document.getElementById('register-password').value.trim();
        const role = document.getElementById('register-role').value;
        
        if (!name || !email || !password || !role) {
            showError('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');
            return;
        }
        
        if (password.length < 6) {
            showError('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
            return;
        }
        
        showLoading('Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ùƒ...');
        
        try {
            const userCredential = await auth.createUserWithEmailAndPassword(email, password);
            const user = userCredential.user;
            
            // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            await db.ref('users/' + user.uid).set({
                name: name,
                email: email,
                role: role,
                createdAt: Date.now(),
                lastLogin: Date.now(),
                stats: userStats,
                preferences: {
                    theme: 'dark',
                    language: 'ar',
                    notifications: true
                }
            });
            
            // Ø¥Ø±Ø³Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø§Ù„ØªØ­Ù‚Ù‚
            await user.sendEmailVerification();
            
            hideLoading();
            showSuccess('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! ğŸŠ');
            backToLogin();
            
        } catch (error) {
            hideLoading();
            showError(handleFirebaseError(error.code));
        }
    }
    
    function handleFirebaseError(code) {
        const errors = {
            'auth/invalid-email': 'Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ§Ù„Ø­',
            'auth/user-disabled': 'Ù‡Ø°Ø§ Ø§Ù„Ø­Ø³Ø§Ø¨ Ù…Ø¹Ø·Ù„',
            'auth/user-not-found': 'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯',
            'auth/wrong-password': 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©',
            'auth/email-already-in-use': 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ù„ÙØ¹Ù„',
            'auth/operation-not-allowed': 'Ø¹Ù…Ù„ÙŠØ© ØºÙŠØ± Ù…Ø³Ù…ÙˆØ­Ø©',
            'auth/weak-password': 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¶Ø¹ÙŠÙØ© Ø¬Ø¯Ø§Ù‹',
            'auth/network-request-failed': 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø´Ø¨ÙƒØ©'
        };
        
        return errors[code] || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹';
    }
    
    // ==================== [ 7. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© ] ====================
    async function sendMessage() {
        const input = document.getElementById('chat-input');
        const message = input.value.trim();
        
        if (!message) return;
        
        // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        addMessage(message, 'user');
        input.value = '';
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        userStats.questionsAsked++;
        userStats.aiInteractions++;
        updateUserStats();
        
        // Ø¹Ø±Ø¶ Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙÙƒÙŠØ±
        const thinkingId = showThinkingIndicator();
        
        try {
            // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
            const response = await superAI.processQuestion(message, {
                user: currentUser,
                stats: userStats,
                history: conversationHistory.slice(-10)
            });
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ø¯
            removeThinkingIndicator(thinkingId);
            addAIResponse(response);
            
            // Ø­ÙØ¸ ÙÙŠ Ø§Ù„Ø³Ø¬Ù„
            conversationHistory.push({
                question: message,
                response: response,
                timestamp: new Date().toISOString()
            });
            
            // Ø­ÙØ¸ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
            if (currentUser) {
                await saveConversation(message, response);
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            if (response.success) {
                userStats.problemsSolved++;
                userStats.totalScore += 10;
            }
            
        } catch (error) {
            console.error('Error:', error);
            removeThinkingIndicator(thinkingId);
            addMessage(
                'Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø³Ø¤Ø§Ù„Ùƒ. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.',
                'ai'
            );
        }
    }
    
    function addMessage(content, sender) {
        const chatMessages = document.getElementById('chat-messages');
        const messageId = 'msg_' + Date.now();
        
        const messageDiv = document.createElement('div');
        messageDiv.className = `message ${sender}`;
        messageDiv.id = messageId;
        
        const avatarIcon = sender === 'user' ? 'fa-user' : 'fa-brain';
        const senderName = sender === 'user' ? 'Ø£Ù†Øª' : 'Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚';
        
        messageDiv.innerHTML = `
            <div class="message-content">
                <div class="message-header">
                    <div class="message-avatar">
                        <i class="fas ${avatarIcon}"></i>
                    </div>
                    <div class="message-sender">${senderName}</div>
                </div>
                <div class="message-text">${formatMessage(content)}</div>
                <div class="message-time">${formatTime(new Date())}</div>
            </div>
        `;
        
        chatMessages.appendChild(messageDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;
        
        return messageId;
    }
    
    function addAIResponse(response) {
        const chatMessages = document.getElementById('chat-messages');
        const messageId = 'ai_' + Date.now();
        
        const messageDiv = document.createElement('div');
        messageDiv.className = 'message ai';
        messageDiv.id = messageId;
        
        let responseHTML = `
            <div class="message-content">
                <div class="message-header">
                    <div class="message-avatar">
                        <i class="fas fa-brain"></i>
                    </div>
                    <div class="message-sender">Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚</div>
                </div>
                <div class="message-text">${formatMessage(response.response)}</div>
        `;
        
        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ Ø¥Ø°Ø§ Ù…ÙˆØ¬ÙˆØ¯
        if (response.reasoning) {
            responseHTML += `<div class="ai-reasoning" style="margin-top: 15px; padding: 15px; background: rgba(0,245,255,0.1); border-radius: 10px; border-right: 3px solid var(--neon-blue);">
                <strong><i class="fas fa-brain-circuit"></i> Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ:</strong><br>
                ${formatMessage(response.reasoning)}
            </div>`;
        }
        
        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ Ø¥Ø°Ø§ Ù…ÙˆØ¬ÙˆØ¯
        if (response.creativity) {
            responseHTML += `<div class="ai-creativity" style="margin-top: 15px; padding: 15px; background: rgba(157,78,221,0.1); border-radius: 10px; border-right: 3px solid var(--neon-purple);">
                <strong><i class="fas fa-lightbulb"></i> Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ ÙˆØ§Ù„Ø§Ø¨ØªÙƒØ§Ø±:</strong><br>
                ${formatMessage(response.creativity)}
            </div>`;
        }
        
        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…Ù‚ Ø§Ù„Ù…Ø¹Ø±ÙÙŠ Ø¥Ø°Ø§ Ù…ÙˆØ¬ÙˆØ¯
        if (response.depth) {
            responseHTML += `<div class="ai-depth" style="margin-top: 15px; padding: 15px; background: rgba(255,0,110,0.1); border-radius: 10px; border-right: 3px solid var(--accent);">
                <strong><i class="fas fa-layer-group"></i> Ø§Ù„Ø¹Ù…Ù‚ Ø§Ù„Ù…Ø¹Ø±ÙÙŠ:</strong><br>
                ${formatMessage(response.depth)}
            </div>`;
        }
        
        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø¥Ø°Ø§ Ù…ÙˆØ¬ÙˆØ¯Ø©
        if (response.suggestions && response.suggestions.length > 0) {
            responseHTML += `<div class="ai-suggestions" style="margin-top: 20px;">
                <strong><i class="fas fa-bullseye"></i> Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù„Ù„ØªØ·ÙˆÙŠØ±:</strong><br>
                <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 10px;">`;
            
            response.suggestions.forEach(suggestion => {
                responseHTML += `
                    <span style="background: rgba(0,245,255,0.2); color: var(--neon-blue); padding: 8px 15px; border-radius: 20px; font-size: 14px;">
                        ${suggestion.icon || 'ğŸ’¡'} ${suggestion.text}
                    </span>`;
            });
            
            responseHTML += `</div></div>`;
        }
        
        responseHTML += `
            <div class="message-time">${formatTime(new Date())}</div>
            <div style="margin-top: 10px; font-size: 12px; color: var(--text-dim);">
                <i class="fas fa-bolt"></i> Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø°ÙƒØ§Ø¡: ${SUPER_AI_CONFIG.intelligenceFactor}x | 
                <i class="fas fa-clock"></i> ÙˆÙ‚Øª Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©: ${response.processingTime || 0}ms
            </div>
        </div>`;
        
        messageDiv.innerHTML = responseHTML;
        chatMessages.appendChild(messageDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;
        
        // ØªØ­Ø±ÙŠÙƒ ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø¬Ø³ÙŠÙ…Ø§Øª
        triggerParticleEffect();
        
        return messageId;
    }
    
    function showThinkingIndicator() {
        const chatMessages = document.getElementById('chat-messages');
        const thinkingId = 'thinking_' + Date.now();
        
        const thinkingDiv = document.createElement('div');
        thinkingDiv.className = 'ai-thinking';
        thinkingDiv.id = thinkingId;
        
        thinkingDiv.innerHTML = `
            <div class="thinking-loader"></div>
            <div class="thinking-text">
                <strong>Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚ ÙŠÙÙƒØ±...</strong><br>
                <small>Ø¬Ø§Ø±ÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</small>
            </div>
        `;
        
        chatMessages.appendChild(thinkingDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;
        
        return thinkingId;
    }
    
    function removeThinkingIndicator(id) {
        const element = document.getElementById(id);
        if (element) element.remove();
    }
    
    // ==================== [ 8. ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ§Ù„ØªÙØ§Ø¹Ù„ ] ====================
    function setupEventListeners() {
        // Ø­Ø¯Ø« Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
        const chatInput = document.getElementById('chat-input');
        chatInput.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = (this.scrollHeight) + 'px';
        });
        
        // Ø£Ø­Ø¯Ø§Ø« Ù„Ù„Ø£Ø²Ø±Ø§Ø±
        document.addEventListener('click', function(e) {
            if (e.target.closest('.feature-card')) {
                const feature = e.target.closest('.feature-card');
                feature.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    feature.style.transform = '';
                }, 200);
            }
        });
        
        // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ø®ØªØµØ§Ø±Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­
        document.addEventListener('keydown', function(e) {
            // Ctrl + N: Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯
            if (e.ctrlKey && e.key === 'n') {
                e.preventDefault();
                document.getElementById('chat-input').focus();
            }
            
            // Ctrl + L: Ù…Ø³Ø­ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
            if (e.ctrlKey && e.key === 'l') {
                e.preventDefault();
                clearChat();
            }
            
            // Ctrl + S: Ø­ÙØ¸ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
            if (e.ctrlKey && e.key === 's') {
                e.preventDefault();
                saveChat();
            }
        });
    }
    
    function initializeParticles() {
        const particlesContainer = document.getElementById('particles');
        const particleCount = 50;
        
        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            
            // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ù„Ù„Ø¬Ø³ÙŠÙ…Ø§Øª
            const size = Math.random() * 5 + 2;
            const posX = Math.random() * 100;
            const delay = Math.random() * 15;
            const duration = Math.random() * 10 + 15;
            const color = Math.random() > 0.5 ? 'var(--neon-blue)' : 'var(--neon-purple)';
            
            particle.style.width = `${size}px`;
            particle.style.height = `${size}px`;
            particle.style.left = `${posX}%`;
            particle.style.background = color;
            particle.style.animationDelay = `${delay}s`;
            particle.style.animationDuration = `${duration}s`;
            
            particlesContainer.appendChild(particle);
        }
    }
    
    function triggerParticleEffect() {
        const pulse = document.getElementById('ai-pulse');
        pulse.style.animation = 'none';
        setTimeout(() => {
            pulse.style.animation = 'aiPulse 4s infinite';
        }, 10);
    }
    
    function updateStatsDisplay() {
        // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        document.getElementById('stat-iq').textContent = calculateIQ();
        document.getElementById('stat-solved').textContent = userStats.problemsSolved;
        document.getElementById('stat-hours').textContent = userStats.learningHours.toFixed(1);
        document.getElementById('stat-interactions').textContent = userStats.aiInteractions;
        document.getElementById('stat-creativity').textContent = `${userStats.creativityScore}%`;
        document.getElementById('stat-logic').textContent = `${userStats.logicScore}%`;
    }
    
    function calculateIQ() {
        const baseIQ = 100;
        const learningBonus = userStats.learningHours * 5;
        const problemBonus = userStats.problemsSolved * 2;
        const interactionBonus = userStats.aiInteractions * 0.5;
        
        const totalIQ = baseIQ + learningBonus + problemBonus + interactionBonus;
        return Math.min(Math.round(totalIQ), 200);
    }
    
    // ==================== [ 9. Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© ] ====================
    async function startSmartQuiz() {
        try {
            const quiz = await superAI.generateIQTest();
            
            Swal.fire({
                title: 'ğŸ§  Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚',
                html: `
                    <div style="text-align: right;">
                        <h3 style="color: var(--neon-blue);">${quiz.title}</h3>
                        <p>${quiz.description}</p>
                        
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px; margin: 15px 0;">
                            <strong>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:</strong><br>
                            â€¢ Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…: ${quiz.sections.length}<br>
                            â€¢ Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ù‚ØµÙˆÙ‰: ${quiz.scoring.maxScore}<br>
                            â€¢ Ø§Ù„ÙˆÙ‚Øª: ${quiz.scoring.timeLimit} Ø¯Ù‚ÙŠÙ‚Ø©
                        </div>
                        
                        <div style="color: var(--text-secondary); font-size: 14px;">
                            <i class="fas fa-info-circle"></i> Ù‡Ø°Ø§ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ù…ØµÙ…Ù… Ø®ØµÙŠØµØ§Ù‹ Ù„Ù…Ø³ØªÙˆÙ‰ Ø°ÙƒØ§Ø¦Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ
                        </div>
                    </div>
                `,
                showCancelButton: true,
                confirmButtonText: 'Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±',
                cancelButtonText: 'Ù„Ø§Ø­Ù‚Ø§Ù‹',
                confirmButtonColor: 'var(--neon-blue)'
            }).then((result) => {
                if (result.isConfirmed) {
                    startQuizSession(quiz);
                }
            });
            
        } catch (error) {
            showError('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±');
        }
    }
    
    async function analyzeDocument() {
        Swal.fire({
            title: 'ğŸ“„ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…',
            input: 'textarea',
            inputLabel: 'Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Øµ Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ ØªØ­Ù„ÙŠÙ„Ù‡',
            inputPlaceholder: 'Ø§Ù„ØµÙ‚ Ø§Ù„Ù†Øµ Ù‡Ù†Ø§...',
            inputAttributes: {
                rows: 8,
                dir: 'rtl'
            },
            showCancelButton: true,
            confirmButtonText: 'ØªØ­Ù„ÙŠÙ„ Ø°ÙƒÙŠ',
            cancelButtonText: 'Ø¥Ù„ØºØ§Ø¡',
            preConfirm: async (text) => {
                if (!text || text.length < 50) {
                    Swal.showValidationMessage('Ø§Ù„Ù†Øµ Ù‚ØµÙŠØ± Ø¬Ø¯Ø§Ù‹ØŒ Ø£Ø¯Ø®Ù„ Ù†ØµØ§Ù‹ Ø£Ø·ÙˆÙ„');
                    return false;
                }
                
                showLoading('Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ...');
                
                // Ù…Ø­Ø§ÙƒØ§Ø© ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†Øµ
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                const analysis = {
                    wordCount: text.split(/\s+/).length,
                    sentenceCount: text.split(/[.!?]+/).length,
                    readingTime: Math.ceil(text.length / 1000),
                    complexity: text.length > 500 ? 'Ø¹Ø§Ù„ÙŠ' : 'Ù…ØªÙˆØ³Ø·',
                    keyTopics: extractTopics(text),
                    sentiment: analyzeTextSentiment(text)
                };
                
                hideLoading();
                return analysis;
            }
        }).then((result) => {
            if (result.isConfirmed) {
                const analysis = result.value;
                
                Swal.fire({
                    title: 'ğŸ“Š Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØ­Ù„ÙŠÙ„',
                    html: `
                        <div style="text-align: right;">
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin: 20px 0;">
                                <div style="background: rgba(0,245,255,0.1); padding: 15px; border-radius: 10px;">
                                    <div style="font-size: 24px; color: var(--neon-blue);">${analysis.wordCount}</div>
                                    <div style="color: var(--text-secondary);">Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª</div>
                                </div>
                                <div style="background: rgba(157,78,221,0.1); padding: 15px; border-radius: 10px;">
                                    <div style="font-size: 24px; color: var(--neon-purple);">${analysis.sentenceCount}</div>
                                    <div style="color: var(--text-secondary);">Ø¹Ø¯Ø¯ Ø§Ù„Ø¬Ù…Ù„</div>
                                </div>
                                <div style="background: rgba(0,255,157,0.1); padding: 15px; border-radius: 10px;">
                                    <div style="font-size: 24px; color: var(--neon-green);">${analysis.readingTime}</div>
                                    <div style="color: var(--text-secondary);">Ø¯Ù‚Ø§Ø¦Ù‚ Ù‚Ø±Ø§Ø¡Ø©</div>
                                </div>
                                <div style="background: rgba(255,0,110,0.1); padding: 15px; border-radius: 10px;">
                                    <div style="font-size: 24px; color: var(--accent);">${analysis.complexity}</div>
                                    <div style="color: var(--text-secondary);">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ¹Ù‚ÙŠØ¯</div>
                                </div>
                            </div>
                            
                            <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px; margin: 15px 0;">
                                <strong>Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:</strong><br>
                                ${analysis.keyTopics.map(topic => `â€¢ ${topic}`).join('<br>')}
                            </div>
                            
                            <div style="color: var(--text-secondary);">
                                <strong>Ø§Ù„Ù…Ø´Ø§Ø¹Ø±:</strong> ${analysis.sentiment}
                            </div>
                        </div>
                    `,
                    width: 600
                });
            }
        });
    }
    
    async function solveProblem() {
        Swal.fire({
            title: 'ğŸ§® Ø­Ù„ Ø§Ù„Ù…Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…',
            html: `
                <div style="text-align: right;">
                    <p>Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø³Ø£Ù„Ø© Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ Ø­Ù„Ù‡Ø§:</p>
                    <input type="text" id="problem-input" class="swal2-input" placeholder="Ù…Ø«Ø§Ù„: Ø­Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø³Â² + 2Ø³ - 3 = 0" style="width: 100%;">
                    
                    <div style="margin-top: 15px;">
                        <label style="color: var(--neon-blue); display: block; margin-bottom: 5px;">Ù†ÙˆØ¹ Ø§Ù„Ù…Ø³Ø£Ù„Ø©</label>
                        <select id="problem-type" class="swal2-input" style="width: 100%;">
                            <option value="math">Ø±ÙŠØ§Ø¶ÙŠØ§Øª</option>
                            <option value="physics">ÙÙŠØ²ÙŠØ§Ø¡</option>
                            <option value="logic">Ù…Ù†Ø·Ù‚</option>
                            <option value="algorithm">Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ©</option>
                            <option value="creative">Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ</option>
                        </select>
                    </div>
                </div>
            `,
            showCancelButton: true,
            confirmButtonText: 'Ø­Ù„ Ø°ÙƒÙŠ',
            cancelButtonText: 'Ø¥Ù„ØºØ§Ø¡',
            preConfirm: () => {
                const problem = document.getElementById('problem-input').value;
                const type = document.getElementById('problem-type').value;
                
                if (!problem) {
                    Swal.showValidationMessage('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù…Ø³Ø£Ù„Ø©');
                    return false;
                }
                
                return { problem, type };
            }
        }).then(async (result) => {
            if (result.isConfirmed) {
                const { problem, type } = result.value;
                
                showLoading('Ø¬Ø§Ø±ÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø®Ø§Ø±Ù‚...');
                
                // Ù…Ø­Ø§ÙƒØ§Ø© Ø­Ù„ Ø§Ù„Ù…Ø³Ø£Ù„Ø©
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                hideLoading();
                
                // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
                let solution = '';
                
                switch(type) {
                    case 'math':
                        solution = await superAI.generateMathSolution(problem);
                        break;
                    case 'physics':
                        solution = await superAI.generateScienceExplanation(problem);
                        break;
                    default:
                        solution = `ğŸ” **Ø­Ù„ Ø§Ù„Ù…Ø³Ø£Ù„Ø©:**\n\n${problem}\n\nğŸ’¡ **Ø§Ù„Ø­Ù„ Ø§Ù„Ø°ÙƒÙŠ:**\nØªØ·Ø¨ÙŠÙ‚ Ù…Ù†Ù‡Ø¬ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø© ØªØ¶Ù…Ù† Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø­Ù„ Ø§Ù„Ø£Ù…Ø«Ù„ ÙÙŠ Ø£Ù‚ØµØ± ÙˆÙ‚Øª.`;
                }
                
                addMessage(solution, 'ai');
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                userStats.problemsSolved++;
                updateUserStats();
            }
        });
    }
    
    async function generateContent() {
        Swal.fire({
            title: 'âœï¸ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø­ØªÙˆÙ‰ Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ',
            input: 'text',
            inputLabel: 'Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ ÙƒØªØ§Ø¨Ø© Ù…Ø­ØªÙˆÙ‰ Ø¹Ù†Ù‡ØŸ',
            inputPlaceholder: 'Ø£Ø¯Ø®Ù„ Ù…ÙˆØ¶ÙˆØ¹Ø§Ù‹ Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ§Ù‹...',
            showCancelButton: true,
            confirmButtonText: 'Ø¥Ù†Ø´Ø§Ø¡ Ø°ÙƒÙŠ',
            cancelButtonText: 'Ø¥Ù„ØºØ§Ø¡'
        }).then(async (result) => {
            if (result.isConfirmed) {
                const topic = result.value;
                
                if (!topic || topic.length < 3) {
                    showError('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙˆØ¶ÙˆØ¹ ØµØ§Ù„Ø­');
                    return;
                }
                
                showLoading('Ø¬Ø§Ø±ÙŠ ØªÙˆÙ„ÙŠØ¯ Ù…Ø­ØªÙˆÙ‰ Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ...');
                
                // ØªÙˆÙ„ÙŠØ¯ Ù…Ø­ØªÙˆÙ‰
                const content = await superAI.generateCreativeWriting(topic);
                
                hideLoading();
                
                // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰
                addMessage(content, 'ai');
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                userStats.creativityScore = Math.min(userStats.creativityScore + 5, 100);
                updateUserStats();
            }
        });
    }
    
    // ==================== [ 10. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ] ====================
    async function loadUserData() {
        if (!currentUser) return;
        
        try {
            const snapshot = await db.ref(`users/${currentUser.uid}`).once('value');
            const userData = snapshot.val();
            
            if (userData) {
                // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                document.getElementById('user-name').textContent = userData.name;
                document.getElementById('user-role').textContent = getRoleName(userData.role);
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø±Ù…Ø²ÙŠØ©
                const avatar = document.getElementById('user-avatar');
                avatar.innerHTML = `<i class="fas ${getRoleIcon(userData.role)}"></i>`;
                
                // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                if (userData.stats) {
                    userStats = { ...userStats, ...userData.stats };
                    updateStatsDisplay();
                }
                
                // ØªØ­Ù…ÙŠÙ„ ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                if (userData.preferences) {
                    applyUserPreferences(userData.preferences);
                }
                
                console.log('âœ… Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø­Ù…Ù„Ø©');
            }
        } catch (error) {
            console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);
        }
    }
    
    async function saveConversation(question, response) {
        if (!currentUser) return;
        
        try {
            const conversationRef = db.ref(`users/${currentUser.uid}/conversations`).push();
            await conversationRef.set({
                question: question,
                response: response.response.substring(0, 1000),
                timestamp: new Date().toISOString(),
                aiLevel: SUPER_AI_CONFIG.level
            });
            
            console.log('ğŸ’¾ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ù…Ø­ÙÙˆØ¸Ø©');
        } catch (error) {
            console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©:', error);
        }
    }
    
    async function updateUserStats() {
        if (!currentUser) return;
        
        try {
            await db.ref(`users/${currentUser.uid}/stats`).update(userStats);
            updateStatsDisplay();
        } catch (error) {
            console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:', error);
        }
    }
    
    // ==================== [ 11. Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© ] ====================
    function getRoleName(role) {
        const roles = {
            'student': 'Ø·Ø§Ù„Ø¨ Ù…ØªØ¹Ù„Ù…',
            'researcher': 'Ø¨Ø§Ø­Ø« Ø¹Ù„Ù…ÙŠ',
            'professional': 'Ù…Ø­ØªØ±Ù',
            'teacher': 'Ø£Ø³ØªØ§Ø°/Ù…Ø¹Ù„Ù…',
            'genius': 'Ø¹Ø¨Ù‚Ø±ÙŠ'
        };
        
        return roles[role] || 'Ù…Ø³ØªØ®Ø¯Ù…';
    }
    
    function getRoleIcon(role) {
        const icons = {
            'student': 'fa-user-graduate',
            'researcher': 'fa-search',
            'professional': 'fa-briefcase',
            'teacher': 'fa-chalkboard-teacher',
            'genius': 'fa-brain'
        };
        
        return icons[role] || 'fa-user';
    }
    
    function formatMessage(text) {
        // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†Øµ Ø§Ù„Ø¹Ø§Ø¯ÙŠ Ø¥Ù„Ù‰ HTML Ù…Ø¹ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚
        return text
            .replace(/\n/g, '<br>')
            .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
            .replace(/\*(.*?)\*/g, '<em>$1</em>')
            .replace(/`(.*?)`/g, '<code>$1</code>');
    }
    
    function formatTime(date) {
        return date.toLocaleTimeString('ar-EG', {
            hour: '2-digit',
            minute: '2-digit',
            hour12: true
        });
    }
    
    function extractTopics(text) {
        const topics = [];
        const commonTopics = [
            'ØªØ¹Ù„ÙŠÙ…', 'ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§', 'Ø¹Ù„ÙˆÙ…', 'Ø±ÙŠØ§Ø¶ÙŠØ§Øª', 'ÙÙ†ÙˆÙ†',
            'Ø£Ø¯Ø¨', 'ØªØ§Ø±ÙŠØ®', 'ÙÙ„Ø³ÙØ©', 'Ø³ÙŠÙƒÙˆÙ„ÙˆØ¬ÙŠØ§', 'Ø§Ù‚ØªØµØ§Ø¯'
        ];
        
        commonTopics.forEach(topic => {
            if (text.toLowerCase().includes(topic.toLowerCase())) {
                topics.push(topic);
            }
        });
        
        return topics.length > 0 ? topics.slice(0, 3) : ['Ù…ÙˆØ¶ÙˆØ¹ Ø¹Ø§Ù…'];
    }
    
    function analyzeTextSentiment(text) {
        const positive = ['Ø¬ÙŠØ¯', 'Ù…Ù…ØªØ§Ø²', 'Ø±Ø§Ø¦Ø¹', 'Ø¬Ù…ÙŠÙ„', 'Ø¹Ø¸ÙŠÙ…'];
        const negative = ['Ø³ÙŠØ¡', 'Ø¶Ø¹ÙŠÙ', 'Ù…Ø´ÙƒÙ„Ø©', 'ØµØ¹Ø¨', 'Ù…Ø¹Ù‚Ø¯'];
        
        let score = 0;
        const words = text.toLowerCase().split(/\s+/);
        
        words.forEach(word => {
            if (positive.includes(word)) score++;
            if (negative.includes(word)) score--;
        });
        
        if (score > 2) return 'Ø¥ÙŠØ¬Ø§Ø¨ÙŠ';
        if (score < -2) return 'Ø³Ù„Ø¨ÙŠ';
        return 'Ù…Ø­Ø§ÙŠØ¯';
    }
    
    // ==================== [ 12. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ø§Ø´Ø§Øª ] ====================
    function showLoginScreen() {
        document.getElementById('login-screen').classList.remove('hidden');
        document.getElementById('app-screen').classList.add('hidden');
        document.getElementById('register-screen').classList.add('hidden');
    }
    
    function showAppScreen() {
        document.getElementById('login-screen').classList.add('hidden');
        document.getElementById('app-screen').classList.remove('hidden');
        document.getElementById('register-screen').classList.add('hidden');
        
        // ØªØ­Ø±ÙŠÙƒ ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„ÙˆÙ‡Ø¬
        document.getElementById('ai-pulse').style.left = '50%';
        document.getElementById('ai-pulse').style.top = '50%';
    }
    
    function showRegister() {
        document.getElementById('login-screen').classList.add('hidden');
        document.getElementById('register-screen').classList.remove('hidden');
    }
    
    function backToLogin() {
        showLoginScreen();
    }
    
    function logout() {
        Swal.fire({
            title: 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬',
            text: 'Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚ØŸ',
            icon: 'question',
            showCancelButton: true,
            confirmButtonText: 'Ù†Ø¹Ù…ØŒ Ø³Ø¬Ù„ Ø®Ø±ÙˆØ¬ÙŠ',
            cancelButtonText: 'Ù„Ø§ØŒ Ø£Ø¨Ù‚Ù‰ Ù‡Ù†Ø§',
            confirmButtonColor: 'var(--accent)'
        }).then(async (result) => {
            if (result.isConfirmed) {
                await auth.signOut();
                showSuccess('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­');
                conversationHistory = [];
            }
        });
    }
    
    function clearChat() {
        Swal.fire({
            title: 'Ù…Ø³Ø­ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©',
            text: 'Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ØŸ Ø³ÙŠØªÙ… Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙÙ‚Ø·.',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonText: 'Ù†Ø¹Ù…ØŒ Ø§Ù…Ø³Ø­',
            cancelButtonText: 'Ø¥Ù„ØºØ§Ø¡',
            confirmButtonColor: 'var(--accent)'
        }).then((result) => {
            if (result.isConfirmed) {
                document.getElementById('chat-messages').innerHTML = '';
                conversationHistory = [];
                
                // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨ Ø¬Ø¯ÙŠØ¯Ø©
                addMessage(
                    'Ù…Ø±Ø­Ø¨Ø§Ù‹ Ù…Ø¬Ø¯Ø¯Ø§Ù‹! Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚ Ø¬Ø§Ù‡Ø² Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ. ğŸš€\n\nØ§Ø·Ø±Ø­ Ø£ÙŠ Ø³Ø¤Ø§Ù„ ÙˆØ³Ø£Ù‚Ø¯Ù… Ù„Ùƒ Ø¥Ø¬Ø§Ø¨Ø© ØªÙÙˆÙ‚ ÙƒÙ„ Ø§Ù„ØªÙˆÙ‚Ø¹Ø§Øª.',
                    'ai'
                );
                
                showSuccess('ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø¨Ù†Ø¬Ø§Ø­');
            }
        });
    }
    
    function saveChat() {
        const chatContent = Array.from(document.querySelectorAll('.message-content'))
            .map(content => content.textContent)
            .join('\n\n---\n\n');
        
        const blob = new Blob([chatContent], { type: 'text/plain;charset=utf-8' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `Ù…Ø­Ø§Ø¯Ø«Ø©-Ø§Ù„Ø°ÙƒØ§Ø¡-Ø§Ù„Ø®Ø§Ø±Ù‚-${new Date().toISOString().split('T')[0]}.txt`;
        a.click();
        URL.revokeObjectURL(url);
        
        showSuccess('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø¨Ù†Ø¬Ø§Ø­');
    }
    
    // ==================== [ 13. Ø¯ÙˆØ§Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ÙˆØ§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ] ====================
    function showLoading(message = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...') {
        Swal.fire({
            title: message,
            allowOutsideClick: false,
            showConfirmButton: false,
            didOpen: () => Swal.showLoading()
        });
    }
    
    function hideLoading() {
        Swal.close();
    }
    
    function showSuccess(message) {
        Swal.fire({
            icon: 'success',
            title: 'ØªÙ… Ø¨Ù†Ø¬Ø§Ø­',
            text: message,
            confirmButtonText: 'Ù…ÙˆØ§ÙÙ‚',
            confirmButtonColor: 'var(--neon-green)',
            timer: 2000
        });
    }
    
    function showError(message) {
        Swal.fire({
            icon: 'error',
            title: 'Ø®Ø·Ø£',
            text: message,
            confirmButtonText: 'Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰',
            confirmButtonColor: 'var(--accent)'
        });
    }
    
    // ==================== [ 14. Ø¯ÙˆØ§Ù„ Ø¥Ø¶Ø§ÙÙŠØ© ] ====================
    function checkUserSession() {
        const savedUser = localStorage.getItem('ai_super_user');
        if (savedUser) {
            try {
                const user = JSON.parse(savedUser);
                if (user.email && user.lastLogin && Date.now() - user.lastLogin < 86400000) {
                    // ØªÙ„Ù‚Ø§Ø¦ÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¬Ù„Ø³Ø© Ø­Ø¯ÙŠØ«Ø©
                    document.getElementById('login-email').value = user.email;
                }
            } catch (e) {
                // ØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ø®Ø·Ø£
            }
        }
    }
    
    function startQuizSession(quiz) {
        // ØªÙ†ÙÙŠØ° Ø§Ø®ØªØ¨Ø§Ø± ØªÙØ§Ø¹Ù„ÙŠ
        showSuccess('Ø³ÙŠØ¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ù‚Ø±ÙŠØ¨Ø§Ù‹...');
        // Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ù…Ù†Ø·Ù‚ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ Ø§Ù„ÙƒØ§Ù…Ù„
    }
    
    function startLearning() {
        showSuccess('Ø¬Ø§Ø±ÙŠ ØªØ­Ø¶ÙŠØ± Ù…Ø³Ø§Ø± Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„ØªÙƒÙŠÙÙŠ...');
        // Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„ØªÙƒÙŠÙÙŠ
    }
    
    function showAIResearch() {
        showSuccess('Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©...');
        // Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
    }
    
    function showUserStats() {
        Swal.fire({
            title: 'ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø©',
            html: `
                <div style="text-align: right;">
                    <h3 style="color: var(--neon-blue);">Ø¥Ù†Ø¬Ø§Ø²Ø§ØªÙƒ Ù…Ø¹ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚</h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin: 20px 0;">
                        <div style="background: rgba(0,245,255,0.1); padding: 15px; border-radius: 10px;">
                            <div style="font-size: 20px; color: var(--neon-blue);">${userStats.questionsAsked}</div>
                            <div style="color: var(--text-secondary);">Ø£Ø³Ø¦Ù„Ø©</div>
                        </div>
                        <div style="background: rgba(157,78,221,0.1); padding: 15px; border-radius: 10px;">
                            <div style="font-size: 20px; color: var(--neon-purple);">${userStats.problemsSolved}</div>
                            <div style="color: var(--text-secondary);">Ù…Ø³Ø§Ø¦Ù„ Ù…Ø­Ù„ÙˆÙ„Ø©</div>
                        </div>
                        <div style="background: rgba(0,255,157,0.1); padding: 15px; border-radius: 10px;">
                            <div style="font-size: 20px; color: var(--neon-green);">${userStats.learningHours.toFixed(1)}</div>
                            <div style="color: var(--text-secondary);">Ø³Ø§Ø¹Ø§Øª ØªØ¹Ù„Ù…</div>
                        </div>
                        <div style="background: rgba(255,0,110,0.1); padding: 15px; border-radius: 10px;">
                            <div style="font-size: 20px; color: var(--accent);">${userStats.currentStreak}</div>
                            <div style="color: var(--text-secondary);">ÙŠÙˆÙ… ØªØªØ§Ø¨Ø¹</div>
                        </div>
                    </div>
                    
                    <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px; margin: 15px 0;">
                        <strong>Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø­Ø§Ù„ÙŠ:</strong><br>
                        <div style="display: flex; align-items: center; gap: 10px; margin-top: 10px;">
                            <div style="width: 100%; height: 10px; background: rgba(255,255,255,0.1); border-radius: 5px; overflow: hidden;">
                                <div style="width: ${Math.min(userStats.totalScore / 100 * 100, 100)}%; height: 100%; background: var(--gradient-ai);"></div>
                            </div>
                            <div style="color: var(--neon-blue); font-weight: bold;">${Math.min(Math.floor(userStats.totalScore / 10), 10)}/10</div>
                        </div>
                    </div>
                    
                    <div style="color: var(--text-secondary); font-size: 14px; margin-top: 20px;">
                        <i class="fas fa-info-circle"></i> Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚ Ù„Ø±ÙØ¹ Ù…Ø³ØªÙˆØ§Ùƒ
                    </div>
                </div>
            `,
            width: 500
        });
    }
    
    function toggleDarkMode() {
        const body = document.body;
        const isDark = body.style.getPropertyValue('--bg-dark') !== '#ffffff';
        
        if (isDark) {
            // Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙØ§ØªØ­
            body.style.setProperty('--bg-dark', '#ffffff');
            body.style.setProperty('--text-main', '#000000');
            body.style.setProperty('--text-secondary', '#666666');
            showSuccess('ØªÙ… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙØ§ØªØ­');
        } else {
            // Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†
            body.style.setProperty('--bg-dark', '#0a0a1a');
            body.style.setProperty('--text-main', '#ffffff');
            body.style.setProperty('--text-secondary', '#b8b8d1');
            showSuccess('ØªÙ… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†');
        }
    }
    
    function toggleVoiceInput() {
        showSuccess('Ù…ÙŠØ²Ø© Ø§Ù„ØµÙˆØª Ù‚Ø±ÙŠØ¨Ø§Ù‹! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø­Ø§Ù„ÙŠØ§Ù‹.');
    }
    
    function attachFile() {
        showSuccess('Ù…ÙŠØ²Ø© Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ù‚Ø±ÙŠØ¨Ø§Ù‹! ÙŠÙ…ÙƒÙ†Ùƒ Ù†Ø³Ø® ÙˆÙ„ØµÙ‚ Ø§Ù„Ù†ØµÙˆØµ.');
    }
    
    function showEmojiPicker() {
        showSuccess('Ù…ÙŠØ²Ø© Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ù‚Ø±ÙŠØ¨Ø§Ù‹!');
    }
    
    function exportChat() {
        saveChat(); // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†ÙØ³ ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø­ÙØ¸
    }
    
    function applyUserPreferences(preferences) {
        // ØªØ·Ø¨ÙŠÙ‚ ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        if (preferences.theme === 'light') {
            toggleDarkMode();
        }
    }
    
    // ==================== [ 15. ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© ] ====================
    window.loginUser = loginUser;
    window.registerUser = registerUser;
    window.showRegister = showRegister;
    window.backToLogin = backToLogin;
    window.logout = logout;
    window.sendMessage = sendMessage;
    window.startSmartQuiz = startSmartQuiz;
    window.analyzeDocument = analyzeDocument;
    window.solveProblem = solveProblem;
    window.generateContent = generateContent;
    window.startLearning = startLearning;
    window.showAIResearch = showAIResearch;
    window.showUserStats = showUserStats;
    window.toggleDarkMode = toggleDarkMode;
    window.clearChat = clearChat;
    window.saveChat = saveChat;
    window.exportChat = exportChat;
    window.toggleVoiceInput = toggleVoiceInput;
    window.attachFile = attachFile;
    window.showEmojiPicker = showEmojiPicker;
    
    // Ø¥Ø¹Ø¯Ø§Ø¯ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©
    console.log('ğŸš€ Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ø®Ø§Ø±Ù‚ Ø¬Ø§Ù‡Ø² ØªÙ…Ø§Ù…Ø§Ù‹!');
    console.log(`ğŸ“Š Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…:`);
    console.log(`â€¢ Ø§Ù„Ø§Ø³Ù…: ${SUPER_AI_CONFIG.name}`);
    console.log(`â€¢ Ø§Ù„Ø¥ØµØ¯Ø§Ø±: ${SUPER_AI_CONFIG.version}`);
    console.log(`â€¢ Ø§Ù„Ù…Ø³ØªÙˆÙ‰: ${SUPER_AI_CONFIG.level}`);
    console.log(`â€¢ Ø¹Ø§Ù…Ù„ Ø§Ù„Ø°ÙƒØ§Ø¡: ${SUPER_AI_CONFIG.intelligenceFactor}x`);
    console.log(`â€¢ ÙˆØ¶Ø¹ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹: ${SUPER_AI_CONFIG.creativeMode}`);
    
    // Ø¥Ø¶Ø§ÙØ© Ø­Ø¯Ø« Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    window.addEventListener('load', () => {
        setTimeout(() => {
            document.getElementById('loading-screen').classList.add('hidden');
        }, 1000);
    });
</script>
</body> 
</html> 
